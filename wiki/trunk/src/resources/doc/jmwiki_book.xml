<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<book>
  <bookinfo>
    <title>JMWiki Documentation</title>

    <subtitle>for release 2.7.x</subtitle>

    <graphic fileref="images/jmwiki_logo.gif" />

    <authorgroup>
      <author>
        <firstname>Martijn</firstname>

        <surname>van der Kleijn</surname>

        <affiliation>
          <orgname>NijiSoft</orgname>
        </affiliation>
      </author>

      <author>
        <firstname>Gareth</firstname>

        <surname>Cronin</surname>

        <affiliation>
          <orgname>Cronin Solutions</orgname>
        </affiliation>
      </author>

      <author>
        <firstname>Tim</firstname>

        <surname>Howland</surname>

        <affiliation>
          <orgname>Watchdog Systems, LLC</orgname>
        </affiliation>
      </author>
    </authorgroup>

    <copyright>
      <year>2001-2006</year>

      <holder role="mailto:contact@jmwiki.org">The JMWiki Project</holder>
    </copyright>

    <pubdate role="rcs">February 1st, 2006</pubdate>

    <releaseinfo>JMWiki version 2.7.7 <remark>Java MediaWiki can be downloaded
    from <ulink url="http://www.jmwiki.org/"> http://www.jmwiki.org/</ulink> .
    This application is a work in progress - contributions and corrections are
    welcome and may be sent to:<email> <ulink
    url="support@jmwiki.org">support@jmwiki.org</ulink></email></remark></releaseinfo>

    <abstract>
      <para>This book contains the complete documentation set for the JMWiki
      project. The JMWiki project is licensed under the LGPL and can be
      downloaded from http://www.jmwiki.org/.</para>
    </abstract>

    <legalnotice>
      <para>Permission is granted to copy, distribute and/or modify this
      document under the terms of the GNU Free Documentation License, Version
      1.2 or any later version published by the Free Software Foundation; with
      no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. A
      copy of the license is included in the section entitled "GNU Free
      Documentation License".</para>
    </legalnotice>
  </bookinfo>

  <preface>
    <title>Preface</title>

    <para>This manual is intended to assist with installing, administering,
    customizing, and using JMWiki software. This document is a work in
    progress. Please send corrections or suggestions to <link
    linkend="???"><ulink
    url="mailto:support@jmwiki.org">support@jmwiki.org</ulink></link> or
    <ulink url="mailto:th@wdogsystems.com">Tim Howland</ulink></para>

    <para>This manual is presented using DocBook <footnote>
        <para>DocBook at Oasis <ulink
        url="http://www.oasis-open.org/docbook/">
        http://www.oasis-open.org/docbook/</ulink></para>
      </footnote> - the open XML standard for technical writing - and is
    rendered to presentation formats using the XSL from the DocBook Open
    Repository Project <footnote>
        <para>DocBook Open Repository <ulink
        url="http://docbook.sourceforge.net/">
        http://docbook.sourceforge.net/</ulink></para>
      </footnote></para>
  </preface>

  <chapter id="about_jmwiki">
    <title>About JMWiki</title>

    <section>
      <title>Introduction</title>

      <para><ulink url="http://c2.com/cgi/wiki?WikiHistory">A Wiki</ulink> is
      software that allows users to create and edit Web page content using a
      Web browser. As a collaboration tool, Wiki's are unusual in that they
      allow the organization of content to be edited in addition to the
      content itself. The first Wiki engine was developed in 1995 by Ward
      Cunningham. Since then many <ulink
      url="http://c2.com/cgi/wiki?WikiEngines">Wiki engines</ulink> , such as
      JMWiki, have been developed. The etymology of Wiki is described <ulink
      url="http://c2.com/cgi/wiki?EtymologyOfWiki">here</ulink> . You can
      learn more about Wiki usage at <ulink
      url="http://www.wiki.org/wiki.cgi?WhatIsWiki">http://www.wiki.org/wiki.cgi?WhatIsWiki</ulink>
      .</para>

      <para>"Java MediaWiki" or "JMWiki" is a Wiki engine written using JSPs
      and servlets and is designed to run on Tomcat or any servlet container
      that supports Java Servlet 2.3 and JSP 1.2 specifications. Gareth Cronin
      is the original developer of the JMWiki. Thanks to the contributions of
      many, JMWiki has undergone numerous improvements. JMWiki supports
      hyperlinks, topic or text-based searching, email notifications, and
      utilizes a simple but powerful text syntax for creating topics and
      editing their content.</para>

      <section>
        <title>Conventions Used in this Manual</title>

        <para>As with any manual, there are a number of abbreviations you
        should be aware of as you read: <table>
            <title>Conventions</title>

            <tgroup cols="2">
              <tbody>
                <row>
                  <entry><systemitem>{$TOMCAT_HOME}</systemitem></entry>

                  <entry>The directory where Tomcat (or other application
                  server) is installed.</entry>
                </row>

                <row>
                  <entry><systemitem>{wikiurl}</systemitem></entry>

                  <entry>The base URL for accessing JMWiki, e.g. <systemitem>
                  http://localhost:8080/jmwiki</systemitem> . With a WAR name
                  of "jmwiki.war", the default local URL for Tomcat will be
                  <systemitem>http://localhost:8080/jmwiki</systemitem></entry>
                </row>

                <row>
                  <entry><systemitem>{wikihome}</systemitem></entry>

                  <entry>The wiki file system home. For users of the Microsoft
                  Windows operating system, the wiki file system home is
                  located at
                  <systemitem>C:\WINDOWS\SYSTEM32\CONFIG\systemprofile\wiki</systemitem></entry>
                </row>
              </tbody>
            </tgroup>
          </table></para>
      </section>
    </section>

    <section>
      <title>Features</title>

      <para>Java MediaWiki is a WikiWikiWeb clone based on Java Server Pages.
      It's goal is to be as lightweight but as functional as possible. It is
      deployed by dropping a single war file into any J2EE web container
      without any extra installation processes. It offers the standard
      features found in most Wiki systems, as well as many other capabilities.
      Features include:</para>

      <para></para>

      <itemizedlist>
        <listitem>
          <para>Support for multiple independent virtual wikis</para>
        </listitem>

        <listitem>
          <para>Localized versions available in Italian, Spanish, German,
          Swedish, Norwegian, Polish, French, Dutch, and English</para>
        </listitem>

        <listitem>
          <para>Built-in full-text search and indexing</para>
        </listitem>

        <listitem>
          <para>RSS Feeds for recent changes</para>
        </listitem>

        <listitem>
          <para>Email alerts for page notification</para>
        </listitem>

        <listitem>
          <para>Filesystem storage for smaller systems, database storage for
          larger wikis</para>
        </listitem>

        <listitem>
          <para>LDAP integration for authentication in corporate
          environments</para>
        </listitem>

        <listitem>
          <para>Custom functionality through plugins and lexers</para>
        </listitem>
      </itemizedlist>

      <para></para>
    </section>

    <section>
      <title>JMWiki History</title>

      <para>Changes for version 2.7.7</para>

      <para>TO BE FILLED IN</para>

      <para>Previous changes are available at <ulink
      url="http://jmwiki.org/docs/whatsnew.txt">http://jmwiki.org/docs/whatsnew.txt</ulink></para>

      <section>
        <title>Contributors</title>

        <informaltable>
          <tgroup cols="2">
            <tbody>
              <row>
                <entry>Project Lead</entry>

                <entry><para>Martijn van der Kleijn</para></entry>
              </row>

              <row>
                <entry>Developers</entry>

                <entry>Martijn van der Kleijn, Andreas Studer, Colin Jacobs,
                Tobias Schulz-Hess, Fritz Freiheit, Gareth Cronin</entry>
              </row>

              <row>
                <entry>Documentation</entry>

                <entry>Tim Howland</entry>
              </row>

              <row>
                <entry>Translation Maintainers</entry>

                <entry></entry>
              </row>

              <row>
                <entry>Italian</entry>

                <entry>Marcello Teodori</entry>
              </row>

              <row>
                <entry>Spanish</entry>

                <entry>Zapo (erzapo)</entry>
              </row>

              <row>
                <entry>German</entry>

                <entry>Nico Jabin</entry>
              </row>

              <row>
                <entry>Swedish</entry>

                <entry>Johan Lindell</entry>
              </row>

              <row>
                <entry>Norwegian</entry>

                <entry>Erik</entry>
              </row>

              <row>
                <entry>French</entry>

                <entry>&lt;position vacant&gt;</entry>
              </row>

              <row>
                <entry>Polish</entry>

                <entry>Michael (mindweb)</entry>
              </row>

              <row>
                <entry>Dutch</entry>

                <entry>Martijn van der Kleijn</entry>
              </row>

              <row>
                <entry>English</entry>

                <entry>Martijn van der Kleijn</entry>
              </row>

              <row>
                <entry>Non-project Contributors:</entry>

                <entry>Fabrizio Zellini, Fritz Kunstler</entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>

        <para></para>
      </section>
    </section>

    <section>
      <title>License</title>

      <para>JMWiki is free software; you can redistribute it and/or modify it
      under the terms of the GNU Lesser General Public License as published by
      the Free Software Foundation; either version 2.1 of the License, or (at
      your option) any later version. This software is distributed in the hope
      that it will be useful, but WITHOUT ANY WARRANTY; without even the
      implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
      See the GNU Lesser General Public License for more details. You should
      have received a copy of the GNU Lesser General Public License along with
      this software; if not, write to the Free Software Foundation, Inc., 51
      Franklin St, Fifth Floor, Boston, MA 02110-1301 USA. <link
      linkend="appendix_b">Appendix B</link> of this document contains a copy
      of this license.</para>

      <para>This documentation is released under the GNU Free Documentation
      License. Please see <link linkend="appendix_a">Appendix A</link> for
      details on this license.</para>
    </section>

    <section>
      <title>About This Documentation</title>

      <section>
        <title>Document Structure</title>

        <para>This document is intended to assist with all phases of
        installing, maintaining, and contributing to a site based on the
        JMWiki software. The documentation is divided into four major
        chapters:</para>

        <para></para>

        <para></para>

        <itemizedlist>
          <listitem>
            <para>Chapter 1: <link linkend="about_jmwiki">About JMWiki</link>
            - describes the project, this documentation, and the resources
            that are available to administrators and users.</para>
          </listitem>

          <listitem>
            <para>Chapter 2: <link linkend="admin_guide">Administrator's
            Guide</link> - Covers how to install, configure, and maintain a
            JMWiki installation</para>
          </listitem>

          <listitem>
            <para>Chapter 3: <link linkend="users_guide">JMWiki User's
            Guide</link> - Guide to Wikis in general, and specific features of
            JMWiki</para>
          </listitem>
        </itemizedlist>

        <para></para>

        <para></para>
      </section>

      <section>
        <title>Getting the latest version of this document</title>

        <para>This document will be available from the JMWiki website at
        <ulink
        url="http://www.jmwiki.org">http://www.jmwiki.org</ulink>.</para>
      </section>

      <section>
        <title>Where to go for help</title>

        <section>
          <title>Mailing Lists</title>

          <para>There are two lists available to support JMWiki users.</para>

          <para>The Announcements list is a moderated low-volume list for new
          version announcements and bug fixes. Signup information and list
          archives are available at: <ulink
          url="http://lists.sourceforge.net/lists/listinfo/veryquickwiki-announce">http://lists.sourceforge.net/lists/listinfo/veryquickwiki-announce
          </ulink></para>

          <para>The JMWiki User's list is for support, questions, and
          discussion of proposed new features. Signup information and list
          archives are available at:<ulink
          url="http://croninsolutions.com/mailman/listinfo/jmwiki-users_croninsolutions.com">http://croninsolutions.com/mailman/listinfo/jmwiki-users_croninsolutions.com</ulink></para>
        </section>

        <section>
          <title>JMWiki Site</title>

          <para>The JMWiki site is located at <ulink
          url="http://www.jmwiki.org">http://www.jmwiki.org</ulink> .
          Resources there include a Wiki containing updated support
          information contributed from all users, the latest version of this
          document, additional plugins, issue tracking, and other
          items.</para>
        </section>
      </section>
    </section>
  </chapter>

  <chapter id="admin_guide">
    <title>Administrator's Guide</title>

    <section>
      <title>Installation</title>

      <section>
        <title>Supported Systems</title>

        <para>The JMWiki software runs on top of so-called application
        servers. These are pieces of middleware software that provide a set of
        functionality to hosted applications. The following software
        requirements are necessary for JMWiki:</para>

        <itemizedlist>
          <listitem>
            <para>A servlet container that supports Java Servlet 2.3 and JSP
            1.2 specifications.</para>
          </listitem>

          <listitem>
            <para>Any stable web browser such as Internet Explorer 5.x,
            Netscape 7.1, Mozilla 1.4 or Opera 7.11.</para>
          </listitem>

          <listitem>
            <para>Java SDK 1.3.1 or higher depending on the requirements of
            your servlet container.</para>
          </listitem>

          <listitem>
            <para>By default, JMWiki runs with flat-file persistence. But an
            easy to configure database connectivity option is
            available.</para>
          </listitem>
        </itemizedlist>

        <para>JMWiki is tested with Apache Tomcat 4.1.24 and JDK
        1.4.X<footnote>
            <para>Apache Tomcat <ulink url="http://jakarta.apache.org/tomcat">
            http://jakarta.apache.org/tomcat</ulink></para>
          </footnote></para>
      </section>

      <section>
        <title>Known Configurations</title>

        <para>Users have also reported successful implementation with the
        following servlet containers:</para>

        <itemizedlist>
          <listitem>
            <para>Apache Tomcat 5.x</para>
          </listitem>

          <listitem>
            <para>JBoss 4.x</para>
          </listitem>

          <listitem>
            <para>Orion 1.6</para>
          </listitem>

          <listitem>
            <para>Resin 2.1.9</para>
          </listitem>

          <listitem>
            <para>Allaire JRun 4.x</para>
          </listitem>

          <listitem>
            <para>BEA Weblogic 7.x</para>
          </listitem>

          <listitem>
            <para>IBM Websphere Application Server 5.1.x</para>
          </listitem>

          <listitem>
            <para>IBM Websphere Application Server 6.x</para>
          </listitem>

          <listitem>
            <para>Oracle 9i Application Server</para>
          </listitem>
        </itemizedlist>

        <remark>Note: Tomcat 3.x or earlier is not recommended for use with
        JMWiki.</remark>
      </section>

      <section>
        <title>Quick start</title>

        <para>The installation process is essentially the same as any other
        web application. The quickstart guide here assumes you will be working
        in a development or testing environment. For production systems,
        please consult the Basic Installation and Database-backed persistence
        sections, below.</para>

        <para><itemizedlist>
            <listitem>
              <para>Shut down your application server</para>
            </listitem>

            <listitem>
              <para>Copy the WAR file to your web applications folder (on
              Tomcat, this will be <code>{$TOMCAT_HOME}/webapps</code>)</para>
            </listitem>

            <listitem>
              <para>Restart your application server</para>
            </listitem>

            <listitem>
              <para>Browse to your application server and access the JMWiki
              URL: eg. http://localhost:8080/jmwiki-2.7.x</para>
            </listitem>

            <listitem>
              <para>As this is a first time installation, click on
              "StartingPoints" to retrieve the randomly generated
              administrator's password</para>
            </listitem>
          </itemizedlist></para>

        <para>The system should now be running correctly, with flat-file
        persistence. See the troubleshooting section (below) for assistance
        with common problems.</para>

        <para><emphasis role="bold">IMPORTANT: </emphasis>Before deploying
        JMWiki to your production environment, be sure you review and
        understand the section below on <link
        linkend="security_issues">Security Issues and
        Remediation</link>.</para>
      </section>

      <section>
        <title>Basic Installation</title>

        <para>JMWiki is designed to be a "drop and run" application. When you
        download JMWiki from a website, it will be available as a single "Web
        Archive File" or "WAR" for short. Most application servers (including
        Tomcat) are capable of automatically deploying an application directly
        from a WAR.</para>

        <para>The following assumes you have installed Tomcat on a Windows
        machine at <systemitem>{$TOMCAT_HOME}</systemitem> and that it is
        running with the default stand-alone port 8080. We will also assume
        that the JMWiki WAR file is named jmwiki-2.7.x.war. The name of the
        WAR file may be different in which case you should substitute your WAR
        file name for jmwiki-2.7.x.war. Finally, we will assume you have a Web
        browser available on the installation machine.</para>

        <para>To install JMWiki, you should follow your application server
        instructions for deploying a WAR. Usually it's just a matter of moving
        the WAR file into the webapps directory. You may need to restart your
        application server if it does not recognize the new war file and
        install it. Once the file is installed, browse to
        http://localhost:8080/jmwiki-2.7.x, and that's it!</para>

        <para>For the tomcat 4.X series, the process is: <itemizedlist>
            <listitem>
              <para>Shut down your application server</para>
            </listitem>

            <listitem>
              <para>Copy the WAR file to your web applications folder (on
              Tomcat, this will be
              <systemitem>{$TOMCAT_HOME}/webapps</systemitem>)</para>
            </listitem>

            <listitem>
              <para>Restart your application server</para>
            </listitem>

            <listitem>
              <para>Browse to your application server and access the JMWiki
              URL: eg. http://localhost:8080/jmwiki-2.7.x</para>
            </listitem>
          </itemizedlist></para>

        <para>Now that JMWiki is installed, you should perform some basic
        configuration work. In order to do this, you'll need to retrieve the
        administrator's password from the system. On the opening screen,
        you'll see a list of links - the first one listed is StartingPoints.
        Choose StartingPoints to be directed to a special page where you will
        receive a password for access to administrative functions. Memorize
        the password!. If you miss the password, or you forget it, see the
        section on <link linkend="admin_reset">password
        recovery.</link></para>

        <para>By default, JMWiki runs with flat-file persistence and other
        default options. Choose the "Admin" link at the bottom of any topic to
        access administrative functions where you can customise JMWiki. In the
        chapters below we address setting up database persistence and other
        JMWiki options.</para>

        <para><emphasis role="bold">IMPORTANT</emphasis>: Before deploying
        JMWiki to your production environment, be sure you review and
        understand the section below on <link
        linkend="security_issues">Security Issues and
        Remediation</link>.</para>

        <screenshot>
          <screeninfo>JMWiki Main Page after installation</screeninfo>

          <mediaobject>
            <imageobject>
              <imagedata fileref="images/jmwiki_homepage.gif" />
            </imageobject>
          </mediaobject>
        </screenshot>
      </section>

      <section id="database_persistence">
        <title>Migrating to database-backed persistence</title>

        <section>
          <title>Overview</title>

          <para>JMWiki is configured to use flat-file persistence by default.
          This means that it stores all wiki pages and assets directly on the
          filesystem. This is fine for smaller implementations, but there are
          performance issues around searching, indexing, and cross-linking new
          topics. JMWiki can be easily configured to use database persistence,
          which leads to much better performance for larger wikis. These
          directions are oriented toward MySQL; see below for Oracle-specific
          notes.</para>
        </section>

        <section>
          <title>General Steps</title>

          <para>To use database persistence, you must start by creating a
          database instance for jmwiki, as well as provisioning a userID and
          password for the system to use. If you are using MySQL, these steps
          would look something like: <itemizedlist>
              <listitem>
                <para>create database jmwiki;</para>
              </listitem>

              <listitem>
                <para>grant all on jmwiki.* to jmwiki@localhost identified by
                'jmwiki';</para>
              </listitem>

              <listitem>
                <para>flush privileges;</para>
              </listitem>
            </itemizedlist> This will create a database called jmwiki on the
          database machine, and will allow a user named 'jmwiki' full access
          to the system. Obviously, you may need to change the hostname from
          localhost to something else if you are running MySQL on a different
          machine to the one running the database, or if you have set MySQL to
          bind to an address other than the localhost loopback, e.g. if MySQL
          is bound to a network card. It's probably a good idea to change this
          password to something that is more difficult to guess, particularly
          if this is to be used in a production system, or if the wiki may
          contain sensitive information. The root Mysql userid and password
          should not be used for security reasons.</para>

          <para>JMWiki will generate it's own tables and copy data into them,
          so once the database configuration is done, the remaining work can
          be performed within the JMWiki Admin console. Click on the "Admin"
          link on the bottom of the page, and enter your administrator's
          password to view this page.</para>

          <para>In order to switch to database persistence mode, you will need
          to change the following settings: <itemizedlist>
              <listitem>
                <para>Persistence - change this from "Flat-File" to
                "Database". This will activate the additional fields you will
                need to configure.</para>
              </listitem>

              <listitem>
                <para>JDBC Driver Class- by default, this is the Mysql driver
                (org.gjt.mysql.Driver). If you need to use a different driver,
                enter it here.</para>
              </listitem>

              <listitem>
                <para>Database type- select either mysql, ansi, postgres, or
                oracle.</para>
              </listitem>

              <listitem>
                <para>Database URL or JNDI Datasource name - This is dependent
                on your setup. By default, the URL is set to
                jdbc:mysql://127.0.0.1/jmwiki , which translates to "The
                database named jmwiki, installed on the mysql database that's
                running on the host with IP address 127.0.0.1". You may need
                to edit this URL to connect to a different host, or to use a
                different JDBC driver. You can also use this area to specify
                that your database configuration is managed by JNDI- see
                below.</para>
              </listitem>

              <listitem>
                <para>Database Username - this is the username for database
                access, as set above.</para>
              </listitem>

              <listitem>
                <para>Database Password - this is the password for database
                access, as set above.</para>
              </listitem>
            </itemizedlist></para>

          <para>Once the database persistence is set, select "Save Changes".
          This will connect to the database, create the tables, and verify
          that everything is working. If you see database connection errors,
          there are several items to try: <itemizedlist>
              <listitem>
                <para>Make sure that you are allowed to connect from the host
                that is running JMWiki to the host that is running the
                database. Most database systems are designed to be very
                restrictive about what hosts are allowed to connect with them.
                If you are using MySQL, try running it from the command line
                on the JMWiki host, as in: mysql -u jmwiki -h localhost -p
                jmwiki . If you cannot connect, then there may be a firewall
                or other issue that needs to be resolved before you can
                continue.</para>
              </listitem>

              <listitem>
                <para>If you are using a database other than mysql, you may
                need to put the database's JDBC drivers into a location that
                JMWiki can access. For a development system, it may be
                simplest to download the JDBC drivers that are designed for
                your database, and copy them to
                <systemitem>{$TOMCAT_HOME}/webapps/JMWiki-2.7.x/lib/</systemitem>
                . You should also obtain the JDBC driver name and URL format
                from the documentation at the developer's website.</para>
              </listitem>

              <listitem>
                <para>Similarly, using a very recent version of MySQL may also
                require using an updated version of the MySQL drivers.
                Download and install them as above.</para>
              </listitem>
            </itemizedlist></para>

          <para>Once database is successfully tested, scroll to the bottom of
          the Admin console, and look for an entry that says "Import from File
          to Database". This will copy your Wiki topics from the local
          filesystem to the database system you created. Note that attachments
          and plugins will remain on your filesystem, and will not be copied
          into the database. Any backup system you deploy must backup the
          local files as well as the database files to avoid problems.</para>

          <para>Please see the section on Connection Pool tuning to maximize
          your database performance.</para>
        </section>

        <section id="jndi_config">
          <title>Configuring JNDI Data Sources</title>

          <para>JMWiki can use a J2EE style DataSource retrieved through JNDI
          as a source of database connections. The procedure is as
          follows:</para>

          <para>Configure a JDBC DataSource in your container and make it
          available through JNDI. Consult your container's documentation for
          details. Note the JNDI name needed to look it up. JMWiki will look
          up the name from an InitialContext instance, so you'll probably have
          to prefix your JNDI name with "java:comp/env/". For example:
          "java:comp/env/jdbc/JMWikiDb".</para>

          <para>In the administration console, configure JMWiki for database
          persistence as above, but with the following changes:</para>

          <itemizedlist>
            <listitem>
              <para>The driver class name field can be left empty.</para>
            </listitem>

            <listitem>
              <para>All connection pool settings are ignored.</para>
            </listitem>

            <listitem>
              <para>Either configure a username and password in your
              DataSource, or specify a username/password pair in the admin
              servlet, but not both. I've only tried the former, but the
              latter should work if your DataSource and JDBC driver support
              it. Leave the username and password fields empty if your
              DataSource has the login credentials.</para>
            </listitem>

            <listitem>
              <para>Set the Database URL to the JNDI name. JMWiki
              distinguishes between the two by looking at the URL. If it
              starts with "jdbc:", it's assumed to be a JDBC URL, otherwise,
              it is assumed to be a JNDI name.</para>
            </listitem>
          </itemizedlist>

          <para>That's it. If you only want to use a DataSource to realize
          connection pooling/testing/recycling, consider using the builtin
          connection pooling support instead. See "Connection Pool Tuning"
          below for more details.</para>
        </section>

        <section id="conn_pool_config">
          <title>Connection Pool Tuning</title>

          <para>JMWiki's Database persistence mode uses the Apache Commons
          DBCP (Database Connection Pooling) to provide robust database
          performance.</para>

          <para>Nothing special needs to be configured to make this work, it's
          there out of the box. The default configuration should suffice for
          most situations, but all connection pool parameters are configurable
          from the administration page.</para>

          <para>These options should be self-explanatory. For more details on
          the inner workings of DBCP, take a look at the DBCP and Pool
          homepages:</para>

          <itemizedlist>
            <listitem>
              <para><ulink
              url="http://jakarta.apache.org/commons/dbcp/">http://jakarta.apache.org/commons/dbcp/</ulink></para>
            </listitem>

            <listitem>
              <para><ulink
              url="http://jakarta.apache.org/commons/pool/">http://jakarta.apache.org/commons/pool/</ulink></para>
            </listitem>
          </itemizedlist>

          <para>If you want to use a database type other than MySQL, you
          should pay close attention to the "validation query" parameter. This
          is a small query to be executed to test the validity of the
          connection. For MySQL, the query "SELECT 1" is appropriate, which is
          the default. No table is specified, because the fact that the query
          is received and processed by the server is enough to ensure the
          connection is still alive and well. For other database types, other
          queries are appropriate. For Oracle, "SELECT COUNT(*) FROM DUAL" is
          a useful validation query. The table "DUAL" is a special built-in
          table with a single row for exactly this kind of purpose.</para>

          <para>If you use another database type, consult your database's
          documentation for details on what is a usable validation query for
          you.</para>
        </section>

        <section>
          <title>Oracle Notes</title>

          <para>In order to use Oracle as your persistence layer, you will
          need the classes12.zip Oracle JDBC Thin driver. Either include it in
          the WEB-INF/lib directory of the JMWiki webapp, or in a
          container-specific lib directory that is made available to your
          container's webapps. For Tomcat, that is
          <systemitem>${TOMCAT_HOME}/shared/lib</systemitem>. In the case of
          Tomcat, rename the file to classes12.jar. The Tomcat classpath
          builder doesn't see zip files as libraries.</para>

          <para>This code should also work with the OCI driver. However,
          you're on your own as to configuring the native code library so that
          the OCI JDBC driver can see it.</para>

          <para>The classes12.zip can be downloaded from: <ulink
          url="http://otn.oracle.com/software/tech/java/sqlj_jdbc/content.html">
          http://otn.oracle.com/software/tech/java/sqlj_jdbc/content.html</ulink></para>

          <para>In the JMWiki Administration Console, specify the following:
          <itemizedlist>
              <listitem>
                <para>JDBC driver class:
                oracle.jdbc.driver.OracleDriver</para>
              </listitem>

              <listitem>
                <para>Database type : oracle</para>
              </listitem>

              <listitem>
                <para>Database URL :
                jdbc:oracle:thin:@dbserver:port:dbname</para>
              </listitem>

              <listitem>
                <para>Database Username: as appropriate</para>
              </listitem>

              <listitem>
                <para>Database Password: as appropriate</para>
              </listitem>

              <listitem>
                <para>Validation query: SELECT COUNT(*) FROM DUAL</para>
              </listitem>
            </itemizedlist> Fill in the values for dbserver, port and dbname
          in as appropriate for your environment. Ask your database
          administrator.</para>

          <para>JMWiki will automatically create the tables if it has the
          privileges to do so. If not, ask your database administrator to
          execute the create_oracle.sql script as the schema owner. This
          script is located in
          <systemitem>${TOMCAT_HOME}/webapps/jmwiki-2.7.x/WEB-INF/classes</systemitem>.</para>

          <para>JMWiki will try to recreate the tables every time it starts
          up. This will cause errors such as: java.sql.SQLException:
          ORA-00955: name is already used by an existing object. These can be
          safely ignored.</para>

          <para>If you get "Table or view does not exist", even though the
          tables do exist, there is a database configuration problem- The
          database user must be able to see the tables without prefixing a
          schema name. You may need to create public synonyms for the tables
          if the schema owner is not the database user. Again, ask your
          database administrator to create public synonyms for the JMWiki
          tables if this is the case.</para>

          <para>If JMWiki doesn't create the tables, check the log files. If
          there are messages about SQL syntax errors, check the
          jmwiki.properties file in WEB-INF/classes and the administration
          console to make sure the database-type is set to "oracle".</para>
        </section>
      </section>
    </section>

    <section>
      <title>Configuration Settings</title>

      <section id="admin_cosole">
        <title>Admin Console Settings</title>

        <para>The Admin Console can be accessed by clicking on the Admin link
        on any page and entering the Admin password. If the admin password has
        been lost, see the entry under "Administrator Password Reset" in the
        Troubleshooting section below.</para>

        <para></para>

        <screenshot>
          <screeninfo>Administrator's Console</screeninfo>

          <mediaobject>
            <imageobject>
              <imagedata fileref="images/admin_top.gif" />
            </imageobject>
          </mediaobject>
        </screenshot>

        <para>The Admin Console allows administrators to set the following
        system parameters: <table>
            <title>Administrative Parameters</title>

            <tgroup cols="2">
              <tbody>
                <row>
                  <entry>Editing lock time-out</entry>

                  <entry>The number of minutes that a user can edit a topic
                  for exclusively. After this time out, another user may begin
                  to edit the topic, and should this occur, the user whose
                  edit timed-out will have to redo their changes.</entry>
                </row>

                <row>
                  <entry>Number of days of RecentChanges</entry>

                  <entry>The number of days back from the present day to
                  display changes made in the RecentChanges list</entry>
                </row>

                <row>
                  <entry>Maximum number of backlinks</entry>

                  <entry>At the bottom of every page a list of links to topics
                  that link to the current topic is displayed. If the topic is
                  mentioned often, this list can grow very large. The maximum
                  backlink limit keeps this list to the specified number. If
                  the number is exceeded, a "..." appears after the list. A
                  user can always check on all the backlinks by clicking on
                  the topic title to perform a search on the title
                  term.</entry>
                </row>

                <row>
                  <entry>Encode passwords in property file</entry>

                  <entry>By default passwords are stored in the property file
                  as plain text.  For added security, passwords can be
                  encoded using a DES encryption algorithm by selecting this
                  option.</entry>
                </row>

                <row>
                  <entry>Automatic index interval</entry>

                  <entry>In the default flat-file mode, the search index is
                  updated every time a topic is altered, this picks up any
                  additions to topics, however it does not account for removal
                  of terms that have been deleted from topic text. A periodic
                  sweep of the text needs to be made to account for deletions.
                  This interval is the amount of time between sweeps. 24 hours
                  should really be sufficient, due to the fact that Wiki is by
                  nature additive rather than subtractive.</entry>
                </row>

                <row>
                  <entry>New line breaks</entry>

                  <entry>This controls how many HTML breaks are inserted for
                  every new line in the edited text. The default is 2, but
                  some people prefer one line to equal one line, in which case
                  this can be set to 1.</entry>
                </row>

                <row>
                  <entry>Use versioning</entry>

                  <entry>When this is switched off, version backup and diff is
                  not available. This is only recommended where disk space is
                  a real problem.</entry>
                </row>

                <row>
                  <entry>Allow HTML</entry>

                  <entry>When this option is switched on, HTML markup will not
                  be ignored, it will be output as HTML.</entry>
                </row>

                <row>
                  <entry>Allow back-tick WikiNames</entry>

                  <entry>When this option is on, back-tick wiki-naming is
                  allowed. With the option off, only traditional CamelCaps
                  naming can be used.</entry>
                </row>

                <row>
                  <entry>Force the setting of username</entry>

                  <entry>When this option is on, users must set a username
                  before they are allowed to edit topics.</entry>
                </row>

                <row>
                  <entry>Format-Lexer, Layout-Lexer and Link-Lexer</entry>

                  <entry>These are set as fully qualified Java class names.
                  The format lexer is the class responsible for tokenizing the
                  user input and formatting it appropriately - e.g. bold, and
                  italics, the layout lexer takes care of lists and tables.
                  The link lexer is responsible for the automagic linking as
                  described earlier. It is possible to write a single lexer
                  that does both, in which case the link lexer should be set
                  to "null'. More details on this can be found later in this
                  manual.</entry>
                </row>

                <row>
                  <entry>Upload directory</entry>

                  <entry>This can either be a relative or an absolute path. If
                  it is relative, it will be created relative to the
                  <systemitem>{installdir}</systemitem>. Ensure that if you
                  are using Windows, you specify the path with Unix-style
                  forward slashes ("/"), not the DOS-style backslashes. The
                  directory specified by the path will be used to store file
                  upload attachments.</entry>
                </row>

                <row>
                  <entry>File upload size limit</entry>

                  <entry>This is the maximum allowable file-size in KB, any
                  larger files will be rejected on upload.</entry>
                </row>

                <row>
                  <entry>Attachment type</entry>

                  <entry>There are two ways to deliver attachments to users.
                  "Inline" will ask the browser to open the file itself, e.g.
                  with a plug-in as for Adobe Acrobat. It will do this in a
                  new window. "Attachment" asks the browser to show a download
                  prompt immediately. It really depends on how you use
                  attachments as to which is preferable for your users. It is
                  also very much up to the browser how it deals with the
                  requests, so behaviour will differ across different
                  browsers.</entry>
                </row>

                <row>
                  <entry>File-system directory</entry>

                  <entry>In flat-file mode, this is where the files for the
                  wiki topics will be stored.</entry>
                </row>

                <row>
                  <entry>SMTP host, username and password</entry>

                  <entry>This is the SMTP host name or IP address for the
                  server that will handle outgoing email for topic change
                  notifications. The username and password can be left blank
                  for non-authenticating SMTP servers.</entry>
                </row>

                <row>
                  <entry>Reply address</entry>

                  <entry>This is the address that will appear in the reply-to
                  field for Wiki email notifications.</entry>
                </row>

                <row>
                  <entry>Persistence</entry>

                  <entry>This is where the persistence mode can be set -
                  either the default "Flat-File", or "Database" to use a MySQL
                  database as the back end. If you select "Database", you will
                  be presented with further fields in which to enter the JDBC
                  database driver name, the database name and a user and
                  password. JMWiki ships with the MM MySQL driver and its name
                  will be the default value. See the chapter on MySQL for more
                  information on setting this up.</entry>
                </row>

                <row>
                  <entry>Closed user group?</entry>

                  <entry>Normally, a wiki has no closed user group, but
                  anybody is free to enter/modify text. However, in a
                  controlled environment (e.g. inside a company) it may be a
                  requirement, to clearly distinguish the people. Then you can
                  have a closed user group. The wiki can query a data source
                  for the names of that user group. With the selector, you
                  select the type of data source you want to use. Currently,
                  only LDAP is supported. Note: You must have "use versioning"
                  and "Force the setting of username" switched on to see the
                  effects.</entry>
                </row>

                <row>
                  <entry>Java Factory</entry>

                  <entry>This is the java factory, which is used for the user
                  group. For LDAP choose
                  "com.sun.jndi.ldap.LdapCtxFactory".</entry>
                </row>

                <row>
                  <entry>URL</entry>

                  <entry>The URL to connect to the data source server. For
                  LDAP choose "ldap://your.ldap.server:389".</entry>
                </row>

                <row>
                  <entry>Username</entry>

                  <entry>The username you need to connect to the data source.
                  Can be left empty.</entry>
                </row>

                <row>
                  <entry>Password</entry>

                  <entry>The password you need to connect to the data source.
                  Can be left empty.</entry>
                </row>

                <row>
                  <entry>Search-String</entry>

                  <entry>The basic query string you need to query the
                  datasource. For LDAP choose something like
                  "ou=users,dc=yourcompany,dc=com".</entry>
                </row>

                <row>
                  <entry>Search restrictions</entry>

                  <entry>If you want to add additional restrictions to the
                  search. Use a comma separated list. For LDAP you could do:
                  "objectClass=person"</entry>
                </row>

                <row>
                  <entry>Name of field of user-id</entry>

                  <entry>The name of the field of the user identifier in the
                  datasource. In LDAP it usually is "uid".</entry>
                </row>

                <row>
                  <entry>Name of field of full name</entry>

                  <entry>The name of the field of the full name in the
                  datasource. In LDAP it usually is "cn".</entry>
                </row>

                <row>
                  <entry>Name of field of email address</entry>

                  <entry>The name of the field of the email address in the
                  datasource. In LDAP it usually is "mail".</entry>
                </row>

                <row>
                  <entry>Detailview of user / author</entry>

                  <entry>A snippet of HTML code, which is shown on a wiki page
                  to give more details about the author. The text is HTML code
                  plus some placeholders. The placeholders are formatted like
                  "@@cn@@" and are filled with the appropriate field (in the
                  example: the field "cn") from the data source.</entry>
                </row>
              </tbody>
            </tgroup>
          </table></para>

        <para>The admin console also allows the wiki administrator to perform
        certain key maintenance functions: <table>
            <title>Administrative Functions</title>

            <tgroup cols="2">
              <tbody>
                <row>
                  <entry>Refresh Search Index</entry>

                  <entry>This forces the flat-file mode search indexer to run.
                  As mentioned earlier, the indexer is run automatically at
                  the interval specified above.</entry>
                </row>

                <row>
                  <entry>Purge Deleted Topics</entry>

                  <entry>This will delete any topics that contain only the
                  word "delete".</entry>
                </row>

                <row>
                  <entry>Clear</entry>

                  <entry>Edit Lock on Topic To use this, enter a topic name
                  and click the "Go" button, any lock that is held on the
                  topic will be cleared.</entry>
                </row>

                <row>
                  <entry>Read-only Topics</entry>

                  <entry>Use this section to add and remove topics that should
                  be read-only</entry>
                </row>

                <row>
                  <entry>Add virtual wiki</entry>

                  <entry>Entering a new virtual wiki name and clicking add
                  will register the virtual wiki of that name. Note that a
                  servlet mapping must be added to the web-app descriptor as
                  well. This is covered later in this manual.</entry>
                </row>
              </tbody>
            </tgroup>
          </table></para>
      </section>

      <section>
        <title>Parameters in web.xml</title>

        <para>The JMWiki application is constructed as a series of servlets.
        The mappings for these servlets is controlled by the web.xml file. For
        most sites, the relevant portion of this file is the portion that
        controls the provisioning of virtual wikis. See Administrative Tasks :
        Creating Virtual Wikis, below.</para>
      </section>

      <section>
        <title>Parameters in properties files</title>

        <section>
          <title>VQwiki.properties file</title>

          <para>The JMWiki.properties file contains many internal-only
          configuration settings. In most cases, these settings are identical
          to those configured by the administrative console. If you must edit
          this file directly, you should restart the jmwiki application
          context or the entire application server immediately to avoid
          over-writing your updates, or leaving the system in an inconsistent
          state.</para>

          <para>This file does need to be edited to reset the administrator's
          password if it is lost. Please see the Administrator's Password
          Reset in the Troubleshooting section, below.</para>
        </section>

        <section>
          <title>linking.properties</title>

          <para>By default, JMWiki supports entries to make reference to the
          original C2 WikiWikiWeb, the Meatball Wiki and individual Microsoft
          Knowledge Base articles. The shorthand for these all take the form
          prefix:detail</para>

          <para>You can add new external links by editing the file
          <systemitem>{installdir}/WEB-INF/classes/linking.properties</systemitem>.
          A comment in the file explains the straightforward syntax. In the
          case of the C2 Wiki, the entry is
          <code>c2=http://c2.com/cgi/wiki?${url}</code>. The
          <systemitem>${url}</systemitem> keyword is expanded to whatever the
          user puts after the colon when they create the link, e.g if they put
          <code>c2:StartingPoints, ${url}</code> will be expanded to
          "StartingPoints" creating the complete URL
          http://c2.com/cgi/wiki?StartingPoints</para>
        </section>

        <section>
          <title>Externallex.properties</title>

          <para>From version 2.4.0 onwards, JMWiki supports external lexers.
          These lexers are triggered from the standard lexers using special
          markup. As an example, JMWiki is supplied with jmwiki.lex.JavaLex
          which uses the java2html[6] library to format Java source code into
          pretty HTML.</para>

          <para>To see it in action, try entering the following into a Wiki
          topic: <systemitem>[&lt;java&gt;] class Test{ public void test(); }
          [&lt;/java&gt;]</systemitem></para>

          <para>You should see neatly formatted Java source code. The special
          tag format asks JMWiki to process all the text inside the tags using
          the class named as the value for "java" in the
          <systemitem>{installdir}/WEB-INF/classes/externallex.properties</systemitem>
          file. The default entry in this file is:
          java=jmwiki.lex.JavaLex.</para>

          <para>To write your own external lexer, write a class that
          implements jmwiki.lex.ExternalLex interface (it's only one method)
          and put an entry with an appropriate tag name in the
          externallex.properties file.</para>

          <para>E.g. you might write a class called jmwiki.mylexers.CLex for
          formatting C code. You could then make an entry in the properties
          file of the form c=jmwiki.mylexers.CLex. Anything between the tags
          [&lt;c&gt;][&lt;/c&gt;] would then be passed to the process( String
          text ) method in the class jmwiki.mylexers.CLex.</para>
        </section>

        <section>
          <title>ApplicationResources.properties</title>

          <para>Locale-specific language strings. This includes the mail
          messages to be sent on email notification of topic changes.</para>
        </section>

        <section>
          <title>mime.types</title>

          <para>This file controls what Internet media types are sent to the
          client for each given file extension(s). Sending the correct media
          type to the client browser is important so they know how to handle
          the content of the file. The file follows the format of the standard
          apache mime.types file.</para>

          <para>This file is primarily useful if you need to support an
          unusual type of file as an attachment for your Wiki. Simply add the
          extension and the file type to the end of this file and restart your
          application.</para>
        </section>

        <section>
          <title>log4j.properties</title>

          <para>This file controls the Debugging level of the system. The
          first line should be set to "WARN", eg:
          <systemitem>log4j.rootLogger=WARN, A1</systemitem> Set this to DEBUG
          to generate detailed application logs if you are having trouble- but
          do not set it to DEBUG in production, as it will severely impact
          performance (and generate large logfiles).</para>
        </section>

        <section>
          <title>pseudotopics.properties</title>

          <para>This contains key-value mapping of topic names that are not
          really editable topics to redirect URLs to carry out special
          actions, e.g. RecentChanges</para>
        </section>

        <section>
          <title>actions.properties</title>

          <para>This contains key-value mapping of action names to class names
          of classes that implement jmwiki.WikiAction. Plugins place mappings
          in this file.</para>
        </section>
      </section>
    </section>

    <section>
      <title>Administrative Tasks</title>

      <section>
        <title>Creating Virtual Wikis</title>

        <para>JMWiki supports multiple independent wikis on a single
        application server. These "Virtual Wikis" allow the support of
        multiple independent content stores. Common applications include
        public / private wikis, project-specific wikis, and client-specific
        wikis in a consulting environment. To provision and configure a
        virtual wiki:</para>

        <para><itemizedlist>
            <listitem>
              <para>Access the admin console</para>
            </listitem>

            <listitem>
              <para>Scroll down to the "add virtual wiki" box, enter a name
              (one word, no spaces) and click add</para>
            </listitem>

            <listitem>
              <para>Shut down your application server</para>
            </listitem>

            <listitem>
              <para>Edit
              <systemitem>${TOMCAT_HOME}/webapps/JMWiki-2.7.x/WEB-INF/web.xml</systemitem></para>
            </listitem>

            <listitem>
              <para>You'll find a sample mapping and a comment for setting up
              a new Wiki servlet mapping</para>
            </listitem>

            <listitem>
              <para>Add a mapping to the Wiki servlet using the same name as
              you chose in step 2 as the part of the URL after the base Wiki
              context. E.g. if your virtual wiki is called "other", the
              complete mapping will look
              like:<code>&lt;servlet-mapping&gt;&lt;servlet-name&gt;Wiki&lt;/servlet-name&gt;&lt;url-pattern&gt;/other/Wiki&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;</code></para>
            </listitem>

            <listitem>
              <para>Set a "friendly name" for the virtual wiki in
              <systemitem>${TOMCAT_HOME}/webapps/JMWiki-2.7.x/WEB-INF/classes/ApplicationResources.properties</systemitem>.
              The entry should be of the format: virtualwiki.other.name=Other
              Where "Other" is the name that will appear in the virtual wiki
              list.</para>
            </listitem>
          </itemizedlist></para>
      </section>

      <section id="ldap_config">
        <title>Integrating with LDAP</title>

        <para>Normally, a wiki allows anybody to enter and modify text.
        However, this can create issues in a controlled environment (e.g.
        inside a company). In order to clearly distinguish the people who are
        posting, JMWiki supports LDAP connectivity. In order to configure
        LDAP, access the Admin console, and set the following parameters:
        <itemizedlist>
            <listitem>
              <para>Use Versioning - must be checked</para>
            </listitem>

            <listitem>
              <para>Force the setting of username - must be checked</para>
            </listitem>

            <listitem>
              <para>Closed user group - set to LDAP</para>
            </listitem>

            <listitem>
              <para>Java Factory - set to
              com.sun.jndi.ldap.LdapCtxFactory</para>
            </listitem>

            <listitem>
              <para>URL - The URL to connect to the LDAP server. Should be
              something like "ldap://your.ldap.server:389"</para>
            </listitem>

            <listitem>
              <para>Username - The Username to connect to the LDAP server, if
              required. Can be left blank.</para>
            </listitem>

            <listitem>
              <para>Password - The Password to connect to the LDAP server, if
              required. Can be left blank.</para>
            </listitem>

            <listitem>
              <para>Search-String - The basic query string you need to query
              the datasource. For LDAP choose something like
              "ou=users,dc=yourcompany,dc=com".</para>
            </listitem>

            <listitem>
              <para>Search restrictions - If you want to add additional
              restrictions to the search. Use a comma separated list. For LDAP
              you could do: "objectClass=person"</para>
            </listitem>

            <listitem>
              <para>Name of field of user-id - The name of the field of the
              user identifier in the datasource. In LDAP it usually is
              "uid".</para>
            </listitem>

            <listitem>
              <para>Name of field of full name - The name of the field of the
              full name in the datasource. In LDAP it usually is "cn".</para>
            </listitem>

            <listitem>
              <para>Name of field of email address - The name of the field of
              the email address in the datasource. In LDAP it usually is
              "mail".</para>
            </listitem>

            <listitem>
              <para>Detailview of user / author - A snippet of HTML code,
              which is shown on a wiki page to give more details about the
              author. The text is HTML code plus some placeholders. The
              placeholders are formatted like "@@cn@@" and are filled with the
              appropriate field (in the example: the field "cn") from the data
              source.</para>
            </listitem>
          </itemizedlist></para>
      </section>

      <section>
        <title>Maintenance Tasks</title>

        <section>
          <title>Rebuild Search Index</title>

          <para>This is only required when using flat-file persistence.
          Selecting this from the Admin console will trigger a special run of
          the indexing utility. This is a way to manually run the indexer; it
          will usually just be allowed to run automatically, as configured by
          the Automatic Index Interval parameter.</para>
        </section>

        <section>
          <title>Purge Deleted Topics</title>

          <para>Over time, it may be necessary to reorganize and delete
          outdated topics. This is a two step process: <itemizedlist>
              <listitem>
                <para>Navigate to the topics to be purged. Edit each topic,
                replacing all content with the word "delete".</para>
              </listitem>

              <listitem>
                <para>Access the Admin Console and select "Purge Deleted
                Topics".</para>
              </listitem>
            </itemizedlist> Note that this deletes the content permanently,
          and that the historical versions of the file and diffs cannot be
          recovered after it is performed.</para>
        </section>

        <section>
          <title>Setting Read-only Topics</title>

          <para>JMWiki allows the administrator to set certain topics as
          read-only. This is useful for controlling key pages (main navigation
          nodes, etc), or for controlling pages that are subject to frequent
          vandalism. To mark a page as read only:</para>

          <para></para>

          <orderedlist>
            <listitem>
              <para>Access the Admin Console and log in</para>
            </listitem>

            <listitem>
              <para>Scroll down to "Read-only Topics (jsp)"</para>
            </listitem>

            <listitem>
              <para>Enter the topic name and select "Add"</para>
            </listitem>
          </orderedlist>
        </section>
      </section>
    </section>

    <section>
      <title>Troubleshooting</title>

      <section>
        <title>Panic Reset</title>

        <para>In the unlikely event that JMWiki begins to misbehave in a
        significant way, you can attempt a "panic reset" by navigating to the
        Admin console, logging in, and selecting "Panic Reset" at the bottom
        of the page.</para>

        <para>This effectively stops and restarts the application, which may
        affect whatever users are doing on the system.</para>

        <para>If this fails, try restarting the application context, or the
        application server itself.</para>
      </section>

      <section id="admin_reset">
        <title>Administrator Password Reset</title>

        <para>If you misplace the admin password, you can force JMWiki to
        generate a new one and display it to you on the first topic browsed to
        (as with initial installation). Use a text editor to edit the
        <systemitem>${TOMCAT_HOME}/webapps/jmwiki-2.7.x/WEB-INF/classes/jmwiki.properties</systemitem>
        file (or another location if you have overridden the default) and
        change the key-value pair that reads firstuse=false to firstuse=true.
        Restart the application context or the application server and browse
        to StartingPoints. You will be shown the new admin password.</para>
      </section>

      <section>
        <title>Clearing Locks</title>

        <para>When a user clicks the edit link, an exclusive lock is set on
        the topic they are editing. While this lock is present, any other
        users attempting to edit the topic will receive an error message
        asking them to try again later. This prevents conflicts occurring
        where one user inadvertently overwrites another user's changes.</para>

        <para>If a user spends longer editing a topic than specified in the
        edit-lock timeout setting, the lock will be revoked when another user
        edits that topic. If the user who originally obtained the lock
        attempts to save, they will receive an error message telling them that
        their lock has expired. It is then up to user whose lock expired to
        merge the changes they took too long over into the new user's changes,
        once that user has finished editing their version.</para>

        <para>Of course, if a user edits beyond their timeout and no one else
        tries to edit the same topic during that time, they may continue to
        save as normal. On an average size Wiki, this is almost always the
        case.</para>

        <para>The administrator can unlock a topic manually by going to the
        "WikiLockList" topic. This topic displays a list of current locks with
        an "unlock" link beside each one. If you have not already logged in as
        an administrator, you will be prompted to log in upon clicking an
        unlock link.</para>
      </section>
    </section>

    <section>
      <title>Customizing Look and Feel</title>

      <section>
        <title>Using a Custom Logo</title>

        <para>The custom logo image feature works as follows:</para>

        <para>By default, we use
        <systemitem>{installdir}/images/logo.jpg</systemitem>. If the user
        specifies the URL of an alternate image in the deployment metadata,
        that image will be used instead. In this case, a "Powered by JMWiki"
        image will be displayed on the footer of all pages that use the custom
        logo.</para>

        <para>E.g., in Tomcat server.xml, it would look like this (note the
        override attribute):</para>

        <para><code>&lt;Context path="" docBase="jmwiki-classic" debug="0"
        &gt; &lt;env-entry&gt;
        &lt;description&gt;logoImageName&lt;/description&gt;
        &lt;env-entry-name&gt;logoImageName&lt;/env-entry-name&gt;
        &lt;env-entry-value&gt;/images/tomcat-power.png&lt;/env-entry-value&gt;
        &lt;env-entry-type&gt;java.lang.String&lt;/env-entry-type&gt;
        &lt;/env-entry&gt; &lt;/Context&gt;</code></para>

        <para>or</para>

        <para><code>&lt;Context path="/jmwiki/mikewiki"
        docBase="jmwiki-classic" debug="0" &gt; &lt;Environment
        name="logoImageName" type="java.lang.String"
        value="http://images.sourceforge.net/head_bg_new.gif"
        override="false"/&gt; &lt;/Context&gt;</code></para>

        <para>The index page and admin console still display the JMWiki logo,
        as always.</para>
      </section>

      <section>
        <title>Customizing Page Layouts</title>

        <para>JMWiki allows the site administrator to edit the look and feel
        of the site directly through the application. The governing CSS files
        as well as the top, left, and bottom menus are all directly editable
        within the system.</para>

        <para>To access these files, Click on the Admin link in the page
        footer, and login as the administrator. Then, return to the
        StartingPoints page, and type "AdminOnlyTopics" (without the quotes)
        into the search box. Click the "Go To" button to see the list of
        AdminOnlyTopics.</para>

        <para></para>

        <screenshot>
          <screeninfo>Default AdminOnly Topics Page</screeninfo>

          <mediaobject>
            <imageobject>
              <imagedata fileref="images/admin_only_topics.gif" />
            </imageobject>
          </mediaobject>
        </screenshot>

        <para>This list should have five elements:</para>

        <itemizedlist>
          <listitem>
            <para>LeftMenu - controls the sidebar on the page</para>
          </listitem>

          <listitem>
            <para>TopArea - controls the page header area</para>
          </listitem>

          <listitem>
            <para>BottomArea - controls the page footer</para>
          </listitem>

          <listitem>
            <para>AdminOnlyTopics - controls which topics are editable only by
            the administrator</para>
          </listitem>

          <listitem>
            <para>StyleSheet - the global cascading style sheet in use at the
            site</para>
          </listitem>
        </itemizedlist>

        <section>
          <title>Sitewide CSS</title>

          <para>The sitewide CSS file can be edited by accessing the
          AdminOnlyTopics area, as above, and then navigating to the
          StyleSheet topic. Selecting "Edit" will bring up the page in an
          editor. It's recommended that you cut and paste the contents from
          the editor into an external CSS editor, and then reopen the topic
          once they are completed. This is to avoid inadvertently leaving the
          wiki in an unusable state while you are working on it.</para>

          <para></para>

          <screenshot>
            <screeninfo>StyleSheet Topic</screeninfo>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/stylesheet_page.gif" />
              </imageobject>
            </mediaobject>
          </screenshot>

          <para>The CSS file has many class selectors that you can override
          and edit. Here are some of the most useful:</para>

          <itemizedlist>
            <listitem>
              <para>.contents - the main content area of the site</para>
            </listitem>

            <listitem>
              <para>.title - the main title area</para>
            </listitem>

            <listitem>
              <para>.leftMenu - the sidebar</para>
            </listitem>

            <listitem>
              <para>.pageHeader - the name of this topic (within the content
              area)</para>
            </listitem>

            <listitem>
              <para>.navBar - the cookie crumb links at the top of the
              page</para>
            </listitem>

            <listitem>
              <para>.menu - the fixed references above and below the main
              content area</para>
            </listitem>

            <listitem>
              <para>.logo - controls the appearance of the Logo image</para>
            </listitem>

            <listitem>
              <para>.searchResult - controls the highlight color of search
              results</para>
            </listitem>
          </itemizedlist>
        </section>

        <section>
          <title>Page headers, footers, left navigation</title>

          <para>The left sidebar, page headers, and footers can also be
          directly edited in the JMWiki environment. Please be cautious; it is
          possible to make your wiki inoperable if you insert badly formed
          HTML. In particular, make sure that all HTML is well formed, and
          that any table or div tags are self-contained and closed.</para>

          <para>To edit these files, access them from the AdminOnlyTopics
          page, as above. Then select the area you are interested in editing,
          and click the "Edit" button.</para>

          <para>The TopArea and BottomArea files are wrapped in special
          "[&lt;html&gt;][&lt;/html&gt;]" tags. There should be one at the
          beginning of the file and one at the end. These tags are used to
          signal JMWiki that the following content should be treated as
          literal HTML. If these tags are not added, then JMWiki will
          translate the html characters and the raw HTML source will be
          displayed.</para>

          <para>The LeftMenu file is not wrapped in these tags (unless you add
          them)- this is so the links to pages within the wiki are shown
          correctly.</para>
        </section>
      </section>
    </section>

    <section>
      <title>Installing Plugins</title>

      <para>Plugins add extra functionality to the JMWiki system. A list of
      plugins is available at <ulink
      url="http://jmwiki.org/downloads.php">http://jmwiki.org/downloads.php</ulink>.
      As of this writing, plugins exist to incorporate external RSS feeds and
      HTML, generate charts, and pretty-printers for HTML and SQL.</para>

      <para>To install a new plugin in your environment:</para>

      <orderedlist>
        <listitem>
          <para>Identify your JMWiki file-system directory. This should be set
          by the "File-system directory" parameter on the admin
          console.</para>
        </listitem>

        <listitem>
          <para>Shut down your application server.</para>
        </listitem>

        <listitem>
          <para>Open the file-system directory and look at the files inside.
          There should be a folder called "Plugins"</para>
        </listitem>

        <listitem>
          <para>Place the new downloaded plugin file (as a zip archive) in the
          plugins folder</para>
        </listitem>

        <listitem>
          <para>Start the application server back up</para>
        </listitem>
      </orderedlist>

      <para>When the server starts up again, the plugins will be unzipped and
      installed correctly. See the plugin's documentation for specific
      directions on how to invoke it.</para>
    </section>

    <section id="security_issues">
      <title>Security Issues and Remediation</title>

      <section>
        <title>JMWiki File Storage Issues</title>

        <section>
          <title>Tomcat UserID</title>

          <para>JMWiki stores all files (at least initially) on the local
          filesystem. If an installation transitions to database persistence,
          JMWiki continues to use the filesystem for images and other uploaded
          attachments. This has important security ramifications.</para>

          <para>All file access and the initial directory creation are
          performed as the user that tomcat (or your application server) is
          running under. This means that if you are running tomcat as root,
          users will be able to upload files by default to the /root
          partition, which can be a significant issue on some systems,
          depending on your partitioning scheme (many systems do not make root
          subject to disk quotas). Also, files will be assigned to Root
          ownership, and may be set with root's umask. In a poorly configured
          system, this could lead to a security breach. <emphasis>It is
          strongly recommended that you do not run tomcat as root or other
          privileged user.</emphasis></para>

          <para>The directory that JMWiki writes to is controlled by the
          parameter "File-system directory" on the Admin console. This
          directory must be writable by the user that your application server
          is running under.</para>
        </section>

        <section>
          <title>Disk Utilization</title>

          <para>On a public wiki, a malicious user could create a denial of
          service attack by uploading many files. At some point, the system
          will run out of disk space or inodes. In order to prevent this,
          either set the "File-system directory" parameter on the Admin
          Console to a location on a separate partition with additional space
          (eg "/var" on a unix based system), or implement a disk quota system
          that will prevent the tomcat user from using more space than is
          planned for your implementation. This should be done with either a
          database or flat-file persistence system, as images and other
          attachments are stored on this server.</para>
        </section>

        <section>
          <title>Archiving Content</title>

          <para>Your archiving strategy depends on whether you have configured
          flatfile or database persistence.</para>

          <para>For flatfile users, simply back up your JMWiki file-system
          directory. This should be set by the "File-system directory"
          parameter on the admin console.</para>

          <para>For database users, you must back up this directory as well as
          the contents of your database, as the filesystem is used for
          attached images and other files.</para>

          <para>Additionally, it is probably wise to create a snapshot backup
          of the contents of your
          <systemitem>${TOMCAT_HOME}/webapps/jmwiki-2.7.x</systemitem> folder
          as it will contain configuration settings that may be annoying to
          replicate at a later time.</para>
        </section>
      </section>

      <section>
        <title>Restricting Access</title>

        <section>
          <title>ReadOnly Topics</title>

          <para>If a topic is frequently vandalized, it may be advisable to
          mark it read only. This can be accomplished by an administrator,
          through the Administrator's console. Please see the section marked
          "Setting a topic read only" in the "Maintenance Tasks" section,
          above.</para>
        </section>

        <section id="ldap_auth">
          <title>LDAP Authentication</title>

          <para>JMWiki allows integration with an external LDAP store. This
          can be configured so that users are required to authenticate against
          LDAP before they are allowed to edit topics in the system. Note that
          anonymous users are still able to view the content on the site. To
          prevent this, you could try to implement an Apache module like
          auth_ldap or mod_auth_ldap to look at the same ldap store as JMWiki.
          In this case, the auth_ldap module in Apache would either allow or
          disallow viewers and the JMWiki installation itself would either
          allow or disallow edits.</para>

          <para>Note: both Apache and the auth_ldap and mod_auth_ldap modules
          are not part of the JMWiki installation and as such will not be
          supported by the project.</para>

          <para>LDAP Integration instructions are covered in the <link
          linkend="ldap_config">LDAP Integration</link> section, above.</para>
        </section>

        <section>
          <title>Apache Authentication</title>

          <para>In order to prevent anonymous users from browsing the content
          on the site, an authentication system should be enabled at the web
          tier. If the Apache httpd server is in use, there are a variety of
          modules that can be used to provide authentication services. While
          these services will not be directly integrated with JMWiki - an
          authenticated user will be given access, but no special recognition
          by the system- they can be used to provide sophisticated access
          control to the wiki.</para>

          <para>A possible usefull method is to use either the auth_ldap or
          mod_auth_ldap Apache modules to integrate with an LDAP store. See
          the <link linkend="ldap_auth">LDAP Authentication</link> section
          above.</para>

          <para>Detailed Apache documentation is available from <ulink
          url="http://httpd.apache.org/docs/2.0/howto/auth.html">http://httpd.apache.org/docs/2.0/howto/auth.html</ulink>.</para>
        </section>
      </section>
    </section>
  </chapter>

  <chapter id="users_guide">
    <title>JMWiki User's Guide</title>

    <para>This chapter is a brief overview of JMWiki from a user's
    perspective..</para>

    <section>
      <title>What is a Wiki?</title>

      <para>Wiki's are loosely organized websites that are designed to make it
      simple for users to add and edit content on the site. Unlike most
      websites, Wikis are usually run with very loose permissions; virtually
      any site user is allowed to come along and edit any page, or to add new
      pages.</para>

      <para>The original Wiki was developed by Ward Cunningham, and called
      <ulink url="http://c2.com/cgi/wiki?WelcomeVisitors">WikiWikiWeb</ulink>.
      He <ulink url="http://c2.com/doc/etymology.html">based the name</ulink>
      on the Hawaiian word "WikiWiki", meaning "Quick". Wikis have grown in
      popularity, and have been put into use in many different contexts.
      Within corporations, they are used to allow teams to collaborate more
      efficiently, and there are a variety of Wikis used to provide
      documentation for open source software. The most successful wiki is the
      <ulink url="http://en.wikipedia.org/wiki/Wikipedia">wikipedia</ulink>
      project, which was started to provide a comprehensive encyclopedia using
      Wiki technologies.</para>
    </section>

    <section>
      <title>JMWiki Basics</title>

      <para>This is what the main JMWiki page looks like when the system is
      first installed:</para>

      <para></para>

      <screenshot>
        <screeninfo>JMWiki Default Homepage</screeninfo>

        <mediaobject>
          <imageobject>
            <imagedata fileref="images/jmwiki_homepage.gif" />
          </imageobject>
        </mediaobject>
      </screenshot>

      <para></para>

      <section>
        <title>Editing a topic</title>

        <para>Every individual page in JMWiki is called a "topic". In order to
        edit a topic, simply navigate to it and look for the link at the
        bottom of the page titled "EditPage". Clicking on this link will bring
        up the same topic, with all of the text in a big editable box. Your
        administrator may have set up the system to require you to provide
        your name before editing; if your system is set up this way, you'll
        need to provide your name before continuing.</para>

        <para></para>

        <screenshot>
          <screeninfo>Page Editing</screeninfo>

          <mediaobject>
            <imageobject>
              <imagedata fileref="images/editing_page.gif" />
            </imageobject>
          </mediaobject>
        </screenshot>

        <para>Simply make your changes inside the box and select "Save" to
        save your changes. Select Cancel if you don't want to change the topic
        after all. A few general pointers:</para>

        <para></para>

        <itemizedlist>
          <listitem>
            <para>Don't press the enter key at the end of a line- let it wrap
            naturally. People using the Wiki will have their browsers set to
            different widths, so it's better to let the computer figure out
            how wide to make each line.</para>
          </listitem>

          <listitem>
            <para>Use the enter key to make paragraph breaks</para>
          </listitem>

          <listitem>
            <para>The system will make links clickable automatically. Enter in
            the whole URL (including the http:// part), and the system will
            make it clickable.</para>
          </listitem>

          <listitem>
            <para>If you put in a URL to a graphic (GIF or JPEG), it will be
            directly included at that point on the page.</para>
          </listitem>
        </itemizedlist>
      </section>

      <section>
        <title>Basic Formatting and Markup tags</title>

        <para>The Wiki is intended to be quick and easy, so you don't have to
        learn HTML or a special language to use it. However, there are a few
        tags you can use to dress up your text:</para>

        <para></para>

        <itemizedlist>
          <listitem>
            <para>Double Apostrophes (not quotes!) surrounding a word will
            make it <emphasis>''italic''</emphasis>.</para>
          </listitem>

          <listitem>
            <para>Triple Apostrophes surrounding a word will make it <emphasis
            role="bold">'''bold'''</emphasis>.</para>
          </listitem>

          <listitem>
            <para>Triple Plus Double Apostrophes (which is five apostrophes)
            will make it both '''''<emphasis role="bold">bold and
            italic'''''</emphasis>.</para>
          </listitem>

          <listitem>
            <para>To insert a section of code, wrap the code with {{{three
            curly braces on each side}}}.</para>
          </listitem>

          <listitem>
            <para>To underline, put ===Three Equal Signs=== around your
            text.</para>
          </listitem>

          <listitem>
            <para>Double Colons ::Center The Text::</para>
          </listitem>

          <listitem>
            <para>If you have a headline, put !!!Three Exclamation Points!!!
            around it</para>
          </listitem>

          <listitem>
            <para>If you have a subhead, put !!Two Exclamation Points!! around
            it</para>
          </listitem>

          <listitem>
            <para>If you have a sub-sub-head, put !One Exclamation Point!
            around it</para>
          </listitem>

          <listitem>
            <para>A dividing line is created with four consecutive dashes
            ---</para>
          </listitem>
        </itemizedlist>
      </section>

      <section>
        <title>Creating a new topic</title>

        <para>Creating a topic is a two-part process. First, navigate to a
        part of the site that should contain a link to your new content. Then,
        edit that page, and include a link.</para>

        <para>A JMWiki link is specified in two ways- either as a
        CamelCasedWord (a word with embedded capital letters and no spaces),
        or as a text label surrounded by BackTicks. To insert a link to my
        page about my model rocket collection, I can either add the text
        MyModelRockets to the page, or I can add the text `My Model
        Rockets`.</para>

        <para>Once the page containing your new link is saved, you'll see the
        new text displayed with a question mark at the end- something like
        "MyModelRockets?". The question mark is actually a hyperlink; clicking
        on it will bring up a blank page in the text editor, so you can type
        in your content. After you hit save, the question mark will disappear,
        and the whole link will become clickable.</para>

        <para></para>
      </section>

      <section>
        <title>Attaching a file or graphic to a topic</title>

        <para>If you want to share a document or add an image to a topic,
        simply navigate to the topic you are interested in, and select
        "Attach" from the top menu. This will bring up a dialog box that
        allows you to upload as many as three files at a time. Click on the
        Browse button to find the files you want to upload, and click on
        "Save" when you're done. Your administrator probably limited the size
        of the files that you are allowed to upload, so try to keep them
        manageable.</para>

        <para>Once the file is uploaded, it will appear within the topic's
        content. If you uploaded an image, the image will be directly
        included. If you uploaded a document, it will appear as a hyperlink
        with the same name as the document.</para>

        <para>If you want to reference the same image or file in another
        topic, simply click on "edit this page", and copy the text that linked
        to the image. It will probably say something like
        "attach:some_graphics_file.jpg". If you paste this text into another
        part of the site, it will appear there as well.</para>

        <para></para>
      </section>

      <section>
        <title>Looking at a topic's history</title>

        <para>Since a Wiki is usually an environment that anyone can edit,
        there is significant potential for mischief. In order to fight this,
        the Wiki stores a copy of each version of each topic when it's saved,
        so it's easy to revert back to an older version of a given topic. This
        can also be useful to track the changes that a topic has been through
        as people contribute to it.</para>

        <para></para>

        <screenshot>
          <screeninfo>Topic Editing History</screeninfo>

          <mediaobject>
            <imageobject>
              <imagedata fileref="images/page_history.gif" />
            </imageobject>
          </mediaobject>
        </screenshot>

        <para>To see the history of a particular topic, first navigate to the
        topic, and then click on the history item on the page footer. This
        will bring up a list of the different revisions of the topic. You can
        see what changed between any versions by selecting their checkboxes,
        and clicking on the "Diff Selected" button.</para>
      </section>

      <section>
        <title>Reverting a topic to a previous version</title>

        <para>To revert a topic to a previous version, navigate to the topic's
        main page, and select the History button. Click on the version you are
        interested in restoring. This will bring up the window in two parts-
        the top part is the preview of the page, and the bottom part is the
        raw text. Select and copy the raw text. Then, select the current
        version link. Once you see the page you wish to replace, click on edit
        page. Delete the text and replace it with the raw text you copied from
        the old version of the page.</para>
      </section>
    </section>

    <section>
      <title>Advanced JMWiki</title>

      <para>JMWiki has many additional features for advanced users. You don't
      need to know any of this to contribute to the Wiki, but they can
      definitely help you find information in your wiki, and will allow you to
      extend the basic functionality of the system.</para>

      <section>
        <title>Special Pages</title>

        <para>One of the core concepts in JMWiki is "Special Pages". These
        look like regular pages in the Wiki, but actually map to functions of
        the underlying software. This section is a review of each of these
        special pages. In a default JMWiki installation, these special pages
        are accessible from links on the left sidebar.</para>

        <section>
          <title>Recent Changes</title>

          <para>This is a list of the topics that have been recently changed
          in the wiki, and either the IP address or the name of the person who
          performed the modification. Clicking on the link will bring up the
          page. On a public wiki, it's a good idea to check this periodically,
          to help prevent abuse- or, to revert it once it happens.</para>
        </section>

        <section>
          <title>AllWikiTopics</title>

          <para>This is a comprehensive list of all of the topics in the Wiki-
          this includes topics that are used by the administrator to control
          the look and feel of the wiki. This is a good way to get a feel for
          the size of the content on your wiki.</para>
        </section>

        <section>
          <title>Orphaned Wiki Topics</title>

          <para>An "orphaned" topic is a topic that doesn't have any other
          topics that link to it. This means that a user will be unable to
          navigate through the wiki to find this page- it will only be
          available through searching the wiki, or through typing the topic
          name directly. The "AdminOnlyTopics" should probably stay as an
          orphan, as it is a list of the topics that the local administrator
          uses to control the look and feel of the system.</para>
        </section>

        <section>
          <title>ToDoWikiTopics</title>

          <para>The Wiki automatically creates links when it encounters a word
          in CamelCase, or a word surrounded by `backticks`. This is
          considered a "to-do" item- it's been labeled as a link, but the
          topic behind it hasn't been created. If you are responsible for the
          content of the wiki, it is probably a good idea to keep an eye on
          this page and fill in the blanks where possible- even with simple
          article stubs. This may inspire other contributors to elaborate- and
          nothing is more maddening than a wiki that is actually just a bunch
          of twisty narrow passages, all alike.</para>
        </section>

        <section>
          <title>Wiki Lock List</title>

          <para>As users edit topics on the wiki, individual pages will be
          locked. You can use this to see how many topics are currently locked
          and in process of being edited.</para>
        </section>
      </section>

      <section>
        <title>Templates</title>

        <para>Templates allow you to set up standard text that users can later
        automatically include in the topics they are editing.</para>

        <para>An example would be a software company, that had decided to use
        JMWiki to keep track of some of their old projects. They want to add a
        quick description to the wiki for each of their projects. They want to
        capture standard information for each one, plus whatever additional
        information team members wanted to add. They start by editing a topic,
        and simply inserting labels for the information they want to add in:
        Project Name, Client, Start Date, End Date, Description. Instead of
        saving the topic, they enter in a name like "project_info" into the
        box labeled "Save Contents as Template: ". They save the
        template.</para>

        <para>Now when they add a new topic, they can just go to the box
        labeled "Append Template:", select the "project_info" template, press
        the Append button. The contents of the template will be copied into
        the editing area. Now the users have the information we want them to
        add, the wiki looks more consistent, and they don't have to type it
        all in again for each project they add.</para>

        <para>To change an existing template, append it to a blank topic, edit
        it as necessary, and simply save it as a template again, using the
        same name.</para>
      </section>

      <section>
        <title>Advanced Formatting</title>

        <para>JMWiki supports a reasonably rich set of formatting controls.
        There are some fairly complex controls that only rarely come into
        play.</para>

        <para></para>

        <itemizedlist>
          <listitem>
            <para>To create a bulleted list, put in three spaces and an
            asterisk (*) before each item in the list.</para>
          </listitem>

          <listitem>
            <para>To create a numbered list, put three blank spaces and an
            octothorpe(#) before each item in the list.</para>
          </listitem>

          <listitem>
            <para>If you need to create a sub list, put in six spaces, and
            then either an asterisk or an octothorpe. Keep using multiples of
            three if you need to continue indenting.</para>
          </listitem>

          <listitem>
            <para>If you need to display some characters that the wiki
            software would read as formatting code, wrap it with two underline
            characters (for example, __`Backticks that aren't special`__
            .</para>
          </listitem>

          <listitem>
            <para>On the other hand, if you need to display two underlines in
            a row for some reason, and you don't want them to turn off your
            formatting code, escape them with a backslash (like \__ ).</para>
          </listitem>

          <listitem>
            <para>If you wish to display preformatted code (like a code
            sample) and you don't want to use the java pretty-printer
            described below, insert four "@" signs in a row, followed by your
            text, followed by a blank line.</para>
          </listitem>

          <listitem>
            <para>If you need words to appear in a monospace font inline, wrap
            them with three braces: <systemitem>{{{your text
            here}}}</systemitem> .</para>
          </listitem>
        </itemizedlist>

        <para></para>

        <section>
          <title>Links</title>

          <para>Any fully qualified URL will be turned into a hotlink. JMWiki
          contains a number of shortcuts for adding external links to your
          site.</para>

          <para>To use each shortcut, enter in the shortcut, followed by a :,
          and then the topic you are linking to. For instance, to use the
          Amazon shortcut, enter in "amazon:020171499X", where "020171499X" is
          the ISBN number of the book you are linking to. Your administrator
          can easily define additional shortcuts; many organizations use them
          to link to bug reports, documents on the internal network, or
          intranet resources. The default set of shortcuts that comes with
          JMWiki is:</para>

          <para></para>

          <informaltable>
            <tgroup cols="3">
              <thead>
                <row>
                  <entry align="center">Shortcut</entry>

                  <entry align="center">Example</entry>

                  <entry align="center">Destination</entry>
                </row>
              </thead>

              <tbody>
                <row>
                  <entry>c2:&lt;topic&gt;</entry>

                  <entry>c2:GoodStyle</entry>

                  <entry>&lt;topic&gt; on Ward Cunningham's original
                  wiki</entry>
                </row>

                <row>
                  <entry>mb:&lt;topic&gt;</entry>

                  <entry>mb:InformationVisualization</entry>

                  <entry>&lt;topic&gt; on the UseMod Meatball Wiki</entry>
                </row>

                <row>
                  <entry>mskd:&lt;number&gt;</entry>

                  <entry>mskb:256986</entry>

                  <entry>Displays article &lt;number&gt; in Microsoft's
                  Knowledge Base</entry>
                </row>

                <row>
                  <entry>edit:&lt;topic&gt;</entry>

                  <entry>edit:StartingPoints</entry>

                  <entry>Brings up &lt;topic&gt; in the edit window in this
                  JMWiki installation</entry>
                </row>

                <row>
                  <entry>redirect:&lt;topic&gt;</entry>

                  <entry>redirect:StartingPoints</entry>

                  <entry>Redirects user from one topic to another. Must be the
                  only thing in the body of a topic.</entry>
                </row>

                <row>
                  <entry>amazon:&lt;isbn&gt;</entry>

                  <entry>amazon:020171499X</entry>

                  <entry>Links to the book with the specified &lt;isbn&gt; on
                  amazon.com</entry>
                </row>

                <row>
                  <entry>imdb:&lt;number&gt;</entry>

                  <entry>imdb:0086856</entry>

                  <entry>Brings up the movie with the specified &lt;number&gt;
                  on the internet movie database.</entry>
                </row>
              </tbody>
            </tgroup>
          </informaltable>
        </section>

        <section>
          <title>Embedding HTML</title>

          <para>You can put any arbitrary HTML code into a page by simply
          wrapping it with special [&lt;html&gt;].....[&lt;/html&gt;] tags.
          For example:</para>

          <para>[&lt;html&gt;]</para>

          <para>&lt;input type="button" value="say hello!"
          onclick="alert('hello world!')"&gt;</para>

          <para>[&lt;/html&gt;]</para>

          <para>Obviously, adding in bad HTML (failing to close a table or div
          tag) could make it very difficult to edit or repair your page. If
          that happens, use the page history function to revert to a previous
          version.</para>

          <para>Administrators can disable HTML posting to prevent cross-site
          scripting attacks through the Administrative control panel.</para>

          <para></para>
        </section>

        <section>
          <title>Embedding Java</title>

          <para>You can also embed java code snippets, and the system will
          format and colorize them appropriately. It works the same way as the
          html tags above, but with [&lt;java&gt;]...[&lt;/java&gt;] tags
          instead.</para>

          <para><code>[&lt;java&gt;]public void foo() { int a = 5;
          }[&lt;/java&gt;]</code></para>

          <para></para>

          <screenshot>
            <screeninfo>Java Snippet</screeninfo>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/java_snippet.gif" />
              </imageobject>
            </mediaobject>
          </screenshot>

          <para></para>
        </section>
      </section>

      <section>
        <title>Using Plugins</title>

        <para>There are a variety of downloadable plugins available for
        JMWiki. While an administrator must install them, they provide useful
        features to site authors. Each plugin has it's own documentation, so
        you are encouraged to review them for yourself. This list is probably
        out of date; please check <ulink
        url="???">http://www.jmwiki.org/downloads.php for updates</ulink>. As
        of this writing, known JMWiki plugins included:</para>

        <para></para>

        <informaltable>
          <tgroup cols="3">
            <thead>
              <row>
                <entry align="center">Plugin Name</entry>

                <entry align="center">Location</entry>

                <entry align="center">Description</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry>Include</entry>

                <entry><ulink
                url="???">http://www.jmwiki.org/plugins/include.zip</ulink></entry>

                <entry>Include one topic's content in another.</entry>
              </row>

              <row>
                <entry>GetHTML</entry>

                <entry><ulink
                url="???">http://www.jmwiki.org/plugins/sqlsrc.zip</ulink></entry>

                <entry>Include external web page content in a topic.</entry>
              </row>

              <row>
                <entry>SQL Source</entry>

                <entry><ulink
                url="???">http://www.jmwiki.org/plugins/sqlsrc.zip</ulink></entry>

                <entry>Pretty-print SQL source code in a topic.</entry>
              </row>

              <row>
                <entry>HTML Source</entry>

                <entry><ulink
                url="???">http://www.jmwiki.org/plugins/htmlsrc.zip</ulink></entry>

                <entry>Pretty-print HTML source code in a topic.</entry>
              </row>

              <row>
                <entry>RSS</entry>

                <entry><ulink
                url="???">http://www.jmwiki.org/plugins/rss.zip</ulink></entry>

                <entry>Include External RSS feeds in topics.</entry>
              </row>

              <row>
                <entry>Chart</entry>

                <entry><ulink
                url="???">http://prdownloads.sourceforge.net/veryquickwiki/chart.zip?download</ulink></entry>

                <entry>Easily draw line graphs, bar graphs and pie charts
                inline in a topic.</entry>
              </row>

              <row>
                <entry>BeanShell</entry>

                <entry><ulink
                url="???">http://prdownloads.sourceforge.net/veryquickwiki/beanshell.zip?download</ulink></entry>

                <entry>Evaluate Java expressions inline in a topic.</entry>
              </row>

              <row>
                <entry>Stats</entry>

                <entry><ulink
                url="???">http://prdownloads.sourceforge.net/veryquickwiki/stats.zip?download</ulink></entry>

                <entry>Show simple statistics of changes made by users since
                server was started. - Intended as a demo of writing a topic
                listener plugin.</entry>
              </row>

              <row>
                <entry>HelloWorld</entry>

                <entry><ulink
                url="???">http://prdownloads.sourceforge.net/veryquickwiki/helloworld.zip?download</ulink></entry>

                <entry>Show text output from an action - Intended as a demo of
                writing an action plugin.</entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </section>

      <section>
        <title>Deleting a Topic</title>

        <para>Deleting a topic is very simple; simply replace the contents of
        the topic with the word "delete". As part of routine maintenance, the
        administrator will run a cleanup function that will permanently remove
        the topic from the system.</para>
      </section>
    </section>

    <section>
      <title>Elements of Wiki Style</title>

      <para>Each Wiki tends to develop its own flavor and personality over
      time. However, there are a few things that are useful in helping to
      encourage people to use the system:</para>

      <para></para>

      <itemizedlist>
        <listitem>
          <para>When working on a topic, review it for opportunities to link
          to other topics in the system. Users will navigate from link to
          link, and the richer the link density is, the more rewarding the
          experience will be.</para>
        </listitem>

        <listitem>
          <para>Don't go insane. If every word is a link, nobody is going to
          have the patience to read through it.</para>
        </listitem>

        <listitem>
          <para>Don't leave gaps. If you've created a link, try to at least
          put in a stub with a preliminary sketch of the subject matter. It's
          more useful to get a skeleton up and trust to later visitors to put
          flesh on its bones.</para>
        </listitem>

        <listitem>
          <para>Be polite. Don't call people idiots, especially if they are.
          The Wiki will keep all the old versions of your intemperate outburst
          available for time imemorial, and your IP address is logged
          automatically. Reasonable people can and will disagree on almost any
          topic, and a wiki rewrite war is a huge waste of everyone involved's
          time.</para>
        </listitem>

        <listitem>
          <para>Don't get hung up on formatting. Try to get the information
          onto the page. The Wiki isn't about creating perfect, polished
          marketing websites- it's about creating a quick tool for
          collaboration.</para>
        </listitem>

        <listitem>
          <para>Avoid deletions. Instead, if a page is obsolete, consider
          using a redirect tag to move people to a page that is more relevant.
          If the topic was created in the first place, there may be external
          links pointing to it. It's easier on your remote visitors to bring
          them somewhere useful instead of a confusing blank page.</para>
        </listitem>

        <listitem>
          <para>Don't get hung up on structure. A wiki is amorphous, and it
          will change its shape over time.</para>
        </listitem>

        <listitem>
          <para>Watch how users work on the site, and try to come up with
          templates that they can use to speed up the time it takes to enter
          new information. It will improve the consistency of the information
          the wiki captures</para>
        </listitem>

        <listitem>
          <para>Use the Minor Edit checkbox if you are correcting typos or
          other small-scale changes. This stops people gettng notifications
          when no real changes have happened.</para>
        </listitem>
      </itemizedlist>
    </section>
  </chapter>

  <appendix id="gfdl">
    <appendixinfo>
      <title>GNU Free Documentation License</title>

      <pubdate>Version 1.2, November 2002</pubdate>

      <copyright>
        <year>2000, 2001, 2002</year>

        <holder>Free Software Foundation, Inc.</holder>
      </copyright>

      <legalnotice id="gfdl-legalnotice">
        <para><address>Free Software Foundation, Inc. <street>51 Franklin 
          Street, Fifth Floor</street> , <city>Boston</city> , 
          <state>MA</state> <postcode>02110-1301</postcode> 
          <country>USA</country></address></para>

        <para>Everyone is permitted to copy and distribute verbatim copies of
        this license document, but changing it is not allowed.</para>
      </legalnotice>

      <releaseinfo>Version 1.2, November 2002</releaseinfo>
    </appendixinfo>

    <title id="appendix_a">GNU Free Documentation License</title>

    <section id="gfdl-0">
      <title>PREAMBLE</title>

      <para>The purpose of this License is to make a manual, textbook, or
      other functional and useful document "free" in the sense of freedom: to
      assure everyone the effective freedom to copy and redistribute it, with
      or without modifying it, either commercially or noncommercially.
      Secondarily, this License preserves for the author and publisher a way
      to get credit for their work, while not being considered responsible for
      modifications made by others.</para>

      <para>This License is a kind of "copyleft", which means that derivative
      works of the document must themselves be free in the same sense. It
      complements the GNU General Public License, which is a copyleft license
      designed for free software.</para>

      <para>We have designed this License in order to use it for manuals for
      free software, because free software needs free documentation: a free
      program should come with manuals providing the same freedoms that the
      software does. But this License is not limited to software manuals; it
      can be used for any textual work, regardless of subject matter or
      whether it is published as a printed book. We recommend this License
      principally for works whose purpose is instruction or reference.</para>
    </section>

    <section id="gfdl-1">
      <title>APPLICABILITY AND DEFINITIONS</title>

      <para id="gfdl-doc">This License applies to any manual or other work, in
      any medium, that contains a notice placed by the copyright holder saying
      it can be distributed under the terms of this License. Such a notice
      grants a world-wide, royalty-free license, unlimited in duration, to use
      that work under the conditions stated herein. The "Document", below,
      refers to any such manual or work. Any member of the public is a
      licensee, and is addressed as "you". You accept the license if you copy,
      modify or distribute the work in a way requiring permission under
      copyright law.</para>

      <para id="gfdl-mod-ver">A "Modified Version" of the Document means any
      work containing the Document or a portion of it, either copied verbatim,
      or with modifications and/or translated into another language.</para>

      <para id="gfdl-secnd-sect">A "Secondary Section" is a named appendix or
      a front-matter section of the Document that deals exclusively with the
      relationship of the publishers or authors of the Document to the
      Document's overall subject (or to related matters) and contains nothing
      that could fall directly within that overall subject. (Thus, if the
      Document is in part a textbook of mathematics, a Secondary Section may
      not explain any mathematics.) The relationship could be a matter of
      historical connection with the subject or with related matters, or of
      legal, commercial, philosophical, ethical or political position
      regarding them.</para>

      <para id="gfdl-inv-sect">The "Invariant Sections" are certain Secondary
      Sections whose titles are designated, as being those of Invariant
      Sections, in the notice that says that the Document is released under
      this License. If a section does not fit the above definition of
      Secondary then it is not allowed to be designated as Invariant. The
      Document may contain zero Invariant Sections. If the Document does not
      identify any Invariant Sections then there are none.</para>

      <para id="gfdl-cov-text">The "Cover Texts" are certain short passages of
      text that are listed, as Front-Cover Texts or Back-Cover Texts, in the
      notice that says that the Document is released under this License. A
      Front-Cover Text may be at most 5 words, and a Back-Cover Text may be at
      most 25 words.</para>

      <para id="gfdl-transparent">A "Transparent" copy of the Document means a
      machine-readable copy, represented in a format whose specification is
      available to the general public, that is suitable for revising the
      document straightforwardly with generic text editors or (for images
      composed of pixels) generic paint programs or (for drawings) some widely
      available drawing editor, and that is suitable for input to text
      formatters or for automatic translation to a variety of formats suitable
      for input to text formatters. A copy made in an otherwise Transparent
      file format whose markup, or absence of markup, has been arranged to
      thwart or discourage subsequent modification by readers is not
      Transparent. An image format is not Transparent if used for any
      substantial amount of text. A copy that is not "Transparent" is called
      "Opaque".</para>

      <para>Examples of suitable formats for Transparent copies include plain
      ASCII without markup, Texinfo input format, LaTeX input format, SGML or
      XML using a publicly available DTD, and standard-conforming simple HTML,
      PostScript or PDF designed for human modification. Examples of
      transparent image formats include PNG, XCF and JPG. Opaque formats
      include proprietary formats that can be read and edited only by
      proprietary word processors, SGML or XML for which the DTD and/or
      processing tools are not generally available, and the machine-generated
      HTML, PostScript or PDF produced by some word processors for output
      purposes only.</para>

      <para id="gfdl-title-page">The "Title Page" means, for a printed book,
      the title page itself, plus such following pages as are needed to hold,
      legibly, the material this License requires to appear in the title page.
      For works in formats which do not have any title page as such, "Title
      Page" means the text near the most prominent appearance of the work's
      title, preceding the beginning of the body of the text.</para>

      <para id="gfdl-entitled">A section "Entitled XYZ" means a named subunit
      of the Document whose title either is precisely XYZ or contains XYZ in
      parentheses following text that translates XYZ in another language.
      (Here XYZ stands for a specific section name mentioned below, such as
      "Acknowledgements", "Dedications", "Endorsements", or "History".) To
      "Preserve the Title" of such a section when you modify the Document
      means that it remains a section "Entitled XYZ" according to this
      definition.</para>

      <para>The Document may include Warranty Disclaimers next to the notice
      which states that this License applies to the Document. These Warranty
      Disclaimers are considered to be included by reference in this License,
      but only as regards disclaiming warranties: any other implication that
      these Warranty Disclaimers may have is void and has no effect on the
      meaning of this License.</para>
    </section>

    <section id="gfdl-2">
      <title>VERBATIM COPYING</title>

      <para>You may copy and distribute the Document in any medium, either
      commercially or noncommercially, provided that this License, the
      copyright notices, and the license notice saying this License applies to
      the Document are reproduced in all copies, and that you add no other
      conditions whatsoever to those of this License. You may not use
      technical measures to obstruct or control the reading or further copying
      of the copies you make or distribute. However, you may accept
      compensation in exchange for copies. If you distribute a large enough
      number of copies you must also follow the conditions in section
      3.</para>

      <para>You may also lend copies, under the same conditions stated above,
      and you may publicly display copies.</para>
    </section>

    <section id="gfdl-3">
      <title>COPYING IN QUANTITY</title>

      <para>If you publish printed copies (or copies in media that commonly
      have printed covers) of the Document, numbering more than 100, and the
      Document's license notice requires Cover Texts, you must enclose the
      copies in covers that carry, clearly and legibly, all these Cover Texts:
      Front-Cover Texts on the front cover, and Back-Cover Texts on the back
      cover. Both covers must also clearly and legibly identify you as the
      publisher of these copies. The front cover must present the full title
      with all words of the title equally prominent and visible. You may add
      other material on the covers in addition. Copying with changes limited
      to the covers, as long as they preserve the title of the Document and
      satisfy these conditions, can be treated as verbatim copying in other
      respects.</para>

      <para>If the required texts for either cover are too voluminous to fit
      legibly, you should put the first ones listed (as many as fit
      reasonably) on the actual cover, and continue the rest onto adjacent
      pages.</para>

      <para>If you publish or distribute Opaque copies of the Document
      numbering more than 100, you must either include a machine-readable
      Transparent copy along with each Opaque copy, or state in or with each
      Opaque copy a computer-network location from which the general
      network-using public has access to download using public-standard
      network protocols a complete Transparent copy of the Document, free of
      added material. If you use the latter option, you must take reasonably
      prudent steps, when you begin distribution of Opaque copies in quantity,
      to ensure that this Transparent copy will remain thus accessible at the
      stated location until at least one year after the last time you
      distribute an Opaque copy (directly or through your agents or retailers)
      of that edition to the public.</para>

      <para>It is requested, but not required, that you contact the authors of
      the Document well before redistributing any large number of copies, to
      give them a chance to provide you with an updated version of the
      Document.</para>
    </section>

    <section id="gfdl-4">
      <title>MODIFICATIONS</title>

      <para>You may copy and distribute a Modified Version of the Document
      under the conditions of sections 2 and 3 above, provided that you
      release the Modified Version under precisely this License, with the
      Modified Version filling the role of the Document, thus licensing
      distribution and modification of the Modified Version to whoever
      possesses a copy of it. In addition, you must do these things in the
      Modified Version:</para>

      <orderedlist id="gfdl-modif-cond" numeration="upperalpha">
        <title>GNU FDL Modification Conditions</title>

        <listitem>
          <simpara>Use in the Title Page (and on the covers, if any) a title
          distinct from that of the Document, and from those of previous
          versions (which should, if there were any, be listed in the History
          section of the Document). You may use the same title as a previous
          version if the original publisher of that version gives
          permission.</simpara>
        </listitem>

        <listitem>
          <simpara>List on the Title Page, as authors, one or more persons or
          entities responsible for authorship of the modifications in the
          Modified Version, together with at least five of the principal
          authors of the Document (all of its principal authors, if it has
          fewer than five), unless they release you from this
          requirement.</simpara>
        </listitem>

        <listitem>
          <simpara>State on the Title page the name of the publisher of the
          Modified Version, as the publisher.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve all the copyright notices of the
          Document.</simpara>
        </listitem>

        <listitem>
          <simpara>Add an appropriate copyright notice for your modifications
          adjacent to the other copyright notices.</simpara>
        </listitem>

        <listitem>
          <simpara>Include, immediately after the copyright notices, a license
          notice giving the public permission to use the Modified Version
          under the terms of this License, in the form shown in the <link
          linkend="gfdl-addendum">Addendum</link> below.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve in that license notice the full lists of Invariant
          Sections and required Cover Texts given in the Document's license
          notice.</simpara>
        </listitem>

        <listitem>
          <simpara>Include an unaltered copy of this License.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve the section Entitled "History", Preserve its
          Title, and add to it an item stating at least the title, year, new
          authors, and publisher of the Modified Version as given on the Title
          Page. If there is no section Entitled "History" in the Document,
          create one stating the title, year, authors, and publisher of the
          Document as given on its Title Page, then add an item describing the
          Modified Version as stated in the previous sentence.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve the network location, if any, given in the
          Document for public access to a Transparent copy of the Document,
          and likewise the network locations given in the Document for
          previous versions it was based on. These may be placed in the
          "History" section. You may omit a network location for a work that
          was published at least four years before the Document itself, or if
          the original publisher of the version it refers to gives
          permission.</simpara>
        </listitem>

        <listitem>
          <simpara>For any section Entitled "Acknowledgements" or
          "Dedications", Preserve the Title of the section, and preserve in
          the section all the substance and tone of each of the contributor
          acknowledgements and/or dedications given therein.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve all the Invariant Sections of the Document,
          unaltered in their text and in their titles. Section numbers or the
          equivalent are not considered part of the section titles.</simpara>
        </listitem>

        <listitem>
          <simpara>Delete any section Entitled "Endorsements". Such a section
          may not be included in the Modified Version.</simpara>
        </listitem>

        <listitem>
          <simpara>Do not retitle any existing section to be Entitled
          "Endorsements" or to conflict in title with any Invariant
          Section.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve any Warranty Disclaimers.</simpara>
        </listitem>
      </orderedlist>

      <para>If the Modified Version includes new front-matter sections or
      appendices that qualify as Secondary Sections and contain no material
      copied from the Document, you may at your option designate some or all
      of these sections as invariant. To do this, add their titles to the list
      of Invariant Sections in the Modified Version's license notice. These
      titles must be distinct from any other section titles.</para>

      <para>You may add a section Entitled "Endorsements", provided it
      contains nothing but endorsements of your Modified Version by various
      parties--for example, statements of peer review or that the text has
      been approved by an organization as the authoritative definition of a
      standard.</para>

      <para>You may add a passage of up to five words as a Front-Cover Text,
      and a passage of up to 25 words as a Back-Cover Text, to the end of the
      list of Cover Texts in the Modified Version. Only one passage of
      Front-Cover Text and one of Back-Cover Text may be added by (or through
      arrangements made by) any one entity. If the Document already includes a
      cover text for the same cover, previously added by you or by arrangement
      made by the same entity you are acting on behalf of, you may not add
      another; but you may replace the old one, on explicit permission from
      the previous publisher that added the old one.</para>

      <para>The author(s) and publisher(s) of the Document do not by this
      License give permission to use their names for publicity for or to
      assert or imply endorsement of any Modified Version.</para>
    </section>

    <section id="gfdl-5">
      <title>COMBINING DOCUMENTS</title>

      <para>You may combine the Document with other documents released under
      this License, under the terms defined in <link linkend="gfdl-4">section
      4</link> above for modified versions, provided that you include in the
      combination all of the Invariant Sections of all of the original
      documents, unmodified, and list them all as Invariant Sections of your
      combined work in its license notice, and that you preserve all their
      Warranty Disclaimers.</para>

      <para>The combined work need only contain one copy of this License, and
      multiple identical Invariant Sections may be replaced with a single
      copy. If there are multiple Invariant Sections with the same name but
      different contents, make the title of each such section unique by adding
      at the end of it, in parentheses, the name of the original author or
      publisher of that section if known, or else a unique number. Make the
      same adjustment to the section titles in the list of Invariant Sections
      in the license notice of the combined work.</para>

      <para>In the combination, you must combine any sections Entitled
      "History" in the various original documents, forming one section
      Entitled "History"; likewise combine any sections Entitled
      "Acknowledgements", and any sections Entitled "Dedications". You must
      delete all sections Entitled "Endorsements".</para>
    </section>

    <section id="gfdl-6">
      <title>COLLECTIONS OF DOCUMENTS</title>

      <para>You may make a collection consisting of the Document and other
      documents released under this License, and replace the individual copies
      of this License in the various documents with a single copy that is
      included in the collection, provided that you follow the rules of this
      License for verbatim copying of each of the documents in all other
      respects.</para>

      <para>You may extract a single document from such a collection, and
      distribute it individually under this License, provided you insert a
      copy of this License into the extracted document, and follow this
      License in all other respects regarding verbatim copying of that
      document.</para>
    </section>

    <section id="gfdl-7">
      <title>AGGREGATION WITH INDEPENDENT WORKS</title>

      <para>A compilation of the Document or its derivatives with other
      separate and independent documents or works, in or on a volume of a
      storage or distribution medium, is called an "aggregate" if the
      copyright resulting from the compilation is not used to limit the legal
      rights of the compilation's users beyond what the individual works
      permit. When the Document is included in an aggregate, this License does
      not apply to the other works in the aggregate which are not themselves
      derivative works of the Document.</para>

      <para>If the Cover Text requirement of section 3 is applicable to these
      copies of the Document, then if the Document is less than one half of
      the entire aggregate, the Document's Cover Texts may be placed on covers
      that bracket the Document within the aggregate, or the electronic
      equivalent of covers if the Document is in electronic form. Otherwise
      they must appear on printed covers that bracket the whole
      aggregate.</para>
    </section>

    <section id="gfdl-8">
      <title>TRANSLATION</title>

      <para>Translation is considered a kind of modification, so you may
      distribute translations of the Document under the terms of section 4.
      Replacing Invariant Sections with translations requires special
      permission from their copyright holders, but you may include
      translations of some or all Invariant Sections in addition to the
      original versions of these Invariant Sections. You may include a
      translation of this License, and all the license notices in the
      Document, and any Warranty Disclaimers, provided that you also include
      the original English version of this License and the original versions
      of those notices and disclaimers. In case of a disagreement between the
      translation and the original version of this License or a notice or
      disclaimer, the original version will prevail.</para>

      <para>If a section in the Document is Entitled "Acknowledgements",
      "Dedications", or "History", the requirement (section 4) to Preserve its
      Title (section 1) will typically require changing the actual
      title.</para>
    </section>

    <section id="gfdl-9">
      <title>TERMINATION</title>

      <para>You may not copy, modify, sublicense, or distribute the Document
      except as expressly provided for under this License. Any other attempt
      to copy, modify, sublicense or distribute the Document is void, and will
      automatically terminate your rights under this License. However, parties
      who have received copies, or rights, from you under this License will
      not have their licenses terminated so long as such parties remain in
      full compliance.</para>
    </section>

    <section id="gfdl-10">
      <title>FUTURE REVISIONS OF THIS LICENSE</title>

      <para>The Free Software Foundation may publish new, revised versions of
      the GNU Free Documentation License from time to time. Such new versions
      will be similar in spirit to the present version, but may differ in
      detail to address new problems or concerns. See
      http://www.gnu.org/copyleft/.</para>

      <para>Each version of the License is given a distinguishing version
      number. If the Document specifies that a particular numbered version of
      this License "or any later version" applies to it, you have the option
      of following the terms and conditions either of that specified version
      or of any later version that has been published (not as a draft) by the
      Free Software Foundation. If the Document does not specify a version
      number of this License, you may choose any version ever published (not
      as a draft) by the Free Software Foundation.</para>
    </section>

    <section id="gfdl-addendum">
      <title>ADDENDUM: How to use this License for your documents</title>

      <para>To use this License in a document you have written, include a copy
      of the License in the document and put the following copyright and
      license notices just after the title page:</para>

      <blockquote id="copyright-sample">
        <title>Sample Invariant Sections list</title>

        <para>Copyright (c) YEAR YOUR NAME. Permission is granted to copy,
        distribute and/or modify this document under the terms of the GNU Free
        Documentation License, Version 1.2 or any later version published by
        the Free Software Foundation; with no Invariant Sections, no
        Front-Cover Texts, and no Back-Cover Texts. A copy of the license is
        included in the section entitled "GNU Free Documentation
        License".</para>
      </blockquote>

      <para>If you have Invariant Sections, Front-Cover Texts and Back-Cover
      Texts, replace the "with...Texts." line with this:</para>

      <blockquote id="inv-cover-sample">
        <title>Sample Invariant Sections list</title>

        <para>with the Invariant Sections being LIST THEIR TITLES, with the
        Front-Cover Texts being LIST, and with the Back-Cover Texts being
        LIST.</para>
      </blockquote>

      <para>If you have Invariant Sections without Cover Texts, or some other
      combination of the three, merge those two alternatives to suit the
      situation.</para>

      <para>If your document contains nontrivial examples of program code, we
      recommend releasing these examples in parallel under your choice of free
      software license, such as the GNU General Public License, to permit
      their use in free software.</para>
    </section>
  </appendix>

  <appendix id="lgpl">
    <appendixinfo>
      <title>GNU Lesser General Public License</title>

      <pubdate>Version 2.1, February 1999</pubdate>

      <copyright>
        <year>1991, 1999</year>

        <holder>Free Software Foundation, Inc.</holder>
      </copyright>

      <legalnotice id="gpl-legalnotice">
        <para><address>Free Software Foundation, Inc. <street>51 Franklin 
          Street, Fifth Floor</street> , <city>Boston</city> , 
          <state>MA</state> <postcode>02110-1301</postcode> 
          <country>USA</country></address></para>

        <para>Everyone is permitted to copy and distribute verbatim copies of
        this license document, but changing it is not allowed.</para>
      </legalnotice>

      <releaseinfo>This is the first released version of the Lesser GPL. It
      also counts as the successor of the GNU Library Public License, version
      2, hence the version number 2.1.</releaseinfo>
    </appendixinfo>

    <title id="appendix_b">GNU Lesser General Public License</title>

    <section id="lgpl-1">
      <title>Preamble</title>

      <para>The licenses for most software are designed to take away your
      freedom to share and change it. By contrast, the GNU General Public
      Licenses are intended to guarantee your freedom to share and change free
      software--to make sure the software is free for all its users.</para>

      <para>This license, the Lesser General Public License, applies to some
      specially designated software packages--typically libraries--of the Free
      Software Foundation and other authors who decide to use it. You can use
      it too, but we suggest you first think carefully about whether this
      license or the ordinary General Public License is the better strategy to
      use in any particular case, based on the explanations below.</para>

      <para>When we speak of free software, we are referring to freedom of
      use, not price. Our General Public Licenses are designed to make sure
      that you have the freedom to distribute copies of free software (and
      charge for this service if you wish); that you receive source code or
      can get it if you want it; that you can change the software and use
      pieces of it in new free programs; and that you are informed that you
      can do these things.</para>

      <para>To protect your rights, we need to make restrictions that forbid
      distributors to deny you these rights or to ask you to surrender these
      rights. These restrictions translate to certain responsibilities for you
      if you distribute copies of the library or if you modify it.</para>

      <para>For example, if you distribute copies of the library, whether
      gratis or for a fee, you must give the recipients all the rights that we
      gave you. You must make sure that they, too, receive or can get the
      source code. If you link other code with the library, you must provide
      complete object files to the recipients, so that they can relink them
      with the library after making changes to the library and recompiling it.
      And you must show them these terms so they know their rights.</para>

      <para>We protect your rights with a two-step method: <orderedlist>
          <listitem>
            <para>we copyright the library, and</para>
          </listitem>

          <listitem>
            <para>we offer you this license, which gives you legal permission
            to copy, distribute and/or modify the library.</para>
          </listitem>
        </orderedlist></para>

      <para>To protect each distributor, we want to make it very clear that
      there is no warranty for the free library. Also, if the library is
      modified by someone else and passed on, the recipients should know that
      what they have is not the original version, so that the original
      author's reputation will not be affected by problems that might be
      introduced by others.</para>

      <para>Finally, software patents pose a constant threat to the existence
      of any free program. We wish to make sure that a company cannot
      effectively restrict the users of a free program by obtaining a
      restrictive license from a patent holder. Therefore, we insist that any
      patent license obtained for a version of the library must be consistent
      with the full freedom of use specified in this license.</para>

      <para>Most GNU software, including some libraries, is covered by the
      ordinary GNU General Public License. This license, the GNU Lesser
      General Public License, applies to certain designated libraries, and is
      quite different from the ordinary General Public License. We use this
      license for certain libraries in order to permit linking those libraries
      into non-free programs.</para>

      <para>When a program is linked with a library, whether statically or
      using a shared library, the combination of the two is legally speaking a
      combined work, a derivative of the original library. The ordinary
      General Public License therefore permits such linking only if the entire
      combination fits its criteria of freedom. The Lesser General Public
      License permits more lax criteria for linking other code with the
      library.</para>

      <para>We call this license the <emphasis>Lesser</emphasis> General
      Public License because it does Less to protect the user's freedom than
      the ordinary General Public License. It also provides other free
      software developers Less of an advantage over competing non-free
      programs. These disadvantages are the reason we use the ordinary General
      Public License for many libraries. However, the Lesser license provides
      advantages in certain special circumstances.</para>

      <para>For example, on rare occasions, there may be a special need to
      encourage the widest possible use of a certain library, so that it
      becomes a de-facto standard. To achieve this, non-free programs must be
      allowed to use the library. A more frequent case is that a free library
      does the same job as widely used non-free libraries. In this case, there
      is little to gain by limiting the free library to free software only, so
      we use the Lesser General Public License.</para>

      <para>In other cases, permission to use a particular library in non-free
      programs enables a greater number of people to use a large body of free
      software. For example, permission to use the GNU C Library in non-free
      programs enables many more people to use the whole GNU operating system,
      as well as its variant, the GNU/Linux operating system.</para>

      <para>Although the Lesser General Public License is Less protective of
      the users' freedom, it does ensure that the user of a program that is
      linked with the Library has the freedom and the wherewithal to run that
      program using a modified version of the Library.</para>

      <para>The precise terms and conditions for copying, distribution and
      modification follow. Pay close attention to the difference between a
      <quote>work based on the library</quote> and a <quote>work that uses the
      library</quote> . The former contains code derived from the library,
      whereas the latter must be combined with the library in order to
      run.</para>
    </section>

    <section id="lgpl-2">
      <title>TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
      MODIFICATION</title>

      <section id="lgpl-2-0">
        <title>Section 0</title>

        <para>This License Agreement applies to any software library or other
        program which contains a notice placed by the copyright holder or
        other authorized party saying it may be distributed under the terms of
        this Lesser General Public License (also called <quote>this
        License</quote> ). Each licensee is addressed as <quote>you</quote>
        .</para>

        <para>A <quote>library</quote> means a collection of software
        functions and/or data prepared so as to be conveniently linked with
        application programs (which use some of those functions and data) to
        form executables.</para>

        <para>The <quote>Library</quote> , below, refers to any such software
        library or work which has been distributed under these terms. A
        <quote>work based on the Library</quote> means either the Library or
        any derivative work under copyright law: that is to say, a work
        containing the Library or a portion of it, either verbatim or with
        modifications and/or translated straightforwardly into another
        language. (Hereinafter, translation is included without limitation in
        the term <quote>modification</quote> .)</para>

        <para><quote>Source code</quote> for a work means the preferred form
        of the work for making modifications to it. For a library, complete
        source code means all the source code for all modules it contains,
        plus any associated interface definition files, plus the scripts used
        to control compilation and installation of the library.</para>

        <para>Activities other than copying, distribution and modification are
        not covered by this License; they are outside its scope. The act of
        running a program using the Library is not restricted, and output from
        such a program is covered only if its contents constitute a work based
        on the Library (independent of the use of the Library in a tool for
        writing it). Whether that is true depends on what the Library does and
        what the program that uses the Library does.</para>
      </section>

      <section id="lgpl-2-1">
        <title>Section 1</title>

        <para>You may copy and distribute verbatim copies of the Library's
        complete source code as you receive it, in any medium, provided that
        you conspicuously and appropriately publish on each copy an
        appropriate copyright notice and disclaimer of warranty; keep intact
        all the notices that refer to this License and to the absence of any
        warranty; and distribute a copy of this License along with the
        Library.</para>

        <para>You may charge a fee for the physical act of transferring a
        copy, and you may at your option offer warranty protection in exchange
        for a fee.</para>
      </section>

      <section id="lgpl-2-2">
        <title>Section 2</title>

        <para>You may modify your copy or copies of the Library or any portion
        of it, thus forming a work based on the Library, and copy and
        distribute such modifications or work under the terms of <link
        linkend="lgpl-2-1">Section 1</link> above, provided that you also meet
        all of these conditions: <orderedlist numeration="loweralpha">
            <listitem>
              <para>The modified work must itself be a software
              library.</para>
            </listitem>

            <listitem>
              <para>You must cause the files modified to carry prominent
              notices stating that you changed the files and the date of any
              change.</para>
            </listitem>

            <listitem>
              <para>You must cause the whole of the work to be licensed at no
              charge to all third parties under the terms of this
              License.</para>
            </listitem>

            <listitem id="lgpl-2-2-d">
              <para>If a facility in the modified Library refers to a function
              or a table of data to be supplied by an application program that
              uses the facility, other than as an argument passed when the
              facility is invoked, then you must make a good faith effort to
              ensure that, in the event an application does not supply such
              function or table, the facility still operates, and performs
              whatever part of its purpose remains meaningful.</para>

              <para>(For example, a function in a library to compute square
              roots has a purpose that is entirely well-defined independent of
              the application. Therefore, <link
              linkend="lgpl-2-2-d">Subsection 2d</link> requires that any
              application-supplied function or table used by this function
              must be optional: if the application does not supply it, the
              square root function must still compute square roots.)</para>
            </listitem>
          </orderedlist></para>

        <para>These requirements apply to the modified work as a whole. If
        identifiable sections of that work are not derived from the Library,
        and can be reasonably considered independent and separate works in
        themselves, then this License, and its terms, do not apply to those
        sections when you distribute them as separate works. But when you
        distribute the same sections as part of a whole which is a work based
        on the Library, the distribution of the whole must be on the terms of
        this License, whose permissions for other licensees extend to the
        entire whole, and thus to each and every part regardless of who wrote
        it.</para>

        <para>Thus, it is not the intent of this section to claim rights or
        contest your rights to work written entirely by you; rather, the
        intent is to exercise the right to control the distribution of
        derivative or collective works based on the Library.</para>

        <para>In addition, mere aggregation of another work not based on the
        Library with the Library (or with a work based on the Library) on a
        volume of a storage or distribution medium does not bring the other
        work under the scope of this License.</para>
      </section>

      <section id="lgpl-2-3">
        <title>Section 3</title>

        <para>You may opt to apply the terms of the ordinary GNU General
        Public License instead of this License to a given copy of the Library.
        To do this, you must alter all the notices that refer to this License,
        so that they refer to the ordinary GNU General Public License, version
        2, instead of to this License. (If a newer version than version 2 of
        the ordinary GNU General Public License has appeared, then you can
        specify that version instead if you wish.) Do not make any other
        change in these notices.</para>

        <para>Once this change is made in a given copy, it is irreversible for
        that copy, so the ordinary GNU General Public License applies to all
        subsequent copies and derivative works made from that copy.</para>

        <para>This option is useful when you wish to copy part of the code of
        the Library into a program that is not a library.</para>
      </section>

      <section id="lgpl-2-4">
        <title>Section 4</title>

        <para>You may copy and distribute the Library (or a portion or
        derivative of it, under <link linkend="lgpl-2-2">Section 2</link> ) in
        object code or executable form under the terms of <link
        linkend="lgpl-2-1">Sections 1</link> and <link
        linkend="lgpl-2-2">2</link> above provided that you accompany it with
        the complete corresponding machine-readable source code, which must be
        distributed under the terms of <link linkend="lgpl-2-1">Sections
        1</link> and <link linkend="lgpl-2-2">2</link> above on a medium
        customarily used for software interchange.</para>

        <para>If distribution of object code is made by offering access to
        copy from a designated place, then offering equivalent access to copy
        the source code from the same place satisfies the requirement to
        distribute the source code, even though third parties are not
        compelled to copy the source along with the object code.</para>
      </section>

      <section id="lgpl-2-5">
        <title>Section 5</title>

        <para>A program that contains no derivative of any portion of the
        Library, but is designed to work with the Library by being compiled or
        linked with it, is called a <quote>work that uses the Library</quote>
        . Such a work, in isolation, is not a derivative work of the Library,
        and therefore falls outside the scope of this License.</para>

        <para>However, linking a <quote>work that uses the Library</quote>
        with the Library creates an executable that is a derivative of the
        Library (because it contains portions of the Library), rather than a
        <quote>work that uses the library</quote> . The executable is
        therefore covered by this License. <link linkend="lgpl-2-6">Section
        6</link> states terms for distribution of such executables.</para>

        <para>When a <quote>work that uses the Library</quote> uses material
        from a header file that is part of the Library, the object code for
        the work may be a derivative work of the Library even though the
        source code is not. Whether this is true is especially significant if
        the work can be linked without the Library, or if the work is itself a
        library. The threshold for this to be true is not precisely defined by
        law.</para>

        <para>If such an object file uses only numerical parameters, data
        structure layouts and accessors, and small macros and small inline
        functions (ten lines or less in length), then the use of the object
        file is unrestricted, regardless of whether it is legally a derivative
        work. (Executables containing this object code plus portions of the
        Library will still fall under <link linkend="lgpl-2-6">Section
        6</link> .)</para>

        <para>Otherwise, if the work is a derivative of the Library, you may
        distribute the object code for the work under the terms of <link
        linkend="lgpl-2-6">Section 6</link> . Any executables containing that
        work also fall under <link linkend="lgpl-2-6"> Section 6</link> ,
        whether or not they are linked directly with the Library
        itself.</para>
      </section>

      <section id="lgpl-2-6">
        <title>Section 6</title>

        <para>As an exception to the Sections above, you may also combine or
        link a <quote>work that uses the Library</quote> with the Library to
        produce a work containing portions of the Library, and distribute that
        work under terms of your choice, provided that the terms permit
        modification of the work for the customer's own use and reverse
        engineering for debugging such modifications.</para>

        <para>You must give prominent notice with each copy of the work that
        the Library is used in it and that the Library and its use are covered
        by this License. You must supply a copy of this License. If the work
        during execution displays copyright notices, you must include the
        copyright notice for the Library among them, as well as a reference
        directing the user to the copy of this License. Also, you must do one
        of these things: <orderedlist numeration="loweralpha">
            <listitem id="lgpl-2-6-a">
              <para>Accompany the work with the complete corresponding
              machine-readable source code for the Library including whatever
              changes were used in the work (which must be distributed under
              <link linkend="lgpl-2-1">Sections 1</link> and <link
              linkend="lgpl-2-2">2</link> above); and, if the work is an
              executable linked with the Library, with the complete
              machine-readable <quote>work that uses the Library</quote> , as
              object code and/or source code, so that the user can modify the
              Library and then relink to produce a modified executable
              containing the modified Library. (It is understood that the user
              who changes the contents of definitions files in the Library
              will not necessarily be able to recompile the application to use
              the modified definitions.)</para>
            </listitem>

            <listitem>
              <para>Use a suitable shared library mechanism for linking with
              the Library. A suitable mechanism is one that (1) uses at run
              time a copy of the library already present on the user's
              computer system, rather than copying library functions into the
              executable, and (2) will operate properly with a modified
              version of the library, if the user installs one, as long as the
              modified version is interface-compatible with the version that
              the work was made with.</para>
            </listitem>

            <listitem>
              <para>Accompany the work with a written offer, valid for at
              least three years, to give the same user the materials specified
              in <link linkend="lgpl-2-6-a">Subsection 6a</link> , above, for
              a charge no more than the cost of performing this
              distribution.</para>
            </listitem>

            <listitem>
              <para>If distribution of the work is made by offering access to
              copy from a designated place, offer equivalent access to copy
              the above specified materials from the same place.</para>
            </listitem>

            <listitem>
              <para>Verify that the user has already received a copy of these
              materials or that you have already sent this user a copy.</para>
            </listitem>
          </orderedlist></para>

        <para>For an executable, the required form of the <quote>work that
        uses the Library</quote> must include any data and utility programs
        needed for reproducing the executable from it. However, as a special
        exception, the materials to be distributed need not include anything
        that is normally distributed (in either source or binary form) with
        the major components (compiler, kernel, and so on) of the operating
        system on which the executable runs, unless that component itself
        accompanies the executable.</para>

        <para>It may happen that this requirement contradicts the license
        restrictions of other proprietary libraries that do not normally
        accompany the operating system. Such a contradiction means you cannot
        use both them and the Library together in an executable that you
        distribute.</para>
      </section>

      <section id="lgpl-2-7">
        <title>Section 7</title>

        <para>You may place library facilities that are a work based on the
        Library side-by-side in a single library together with other library
        facilities not covered by this License, and distribute such a combined
        library, provided that the separate distribution of the work based on
        the Library and of the other library facilities is otherwise
        permitted, and provided that you do these two things: <orderedlist
            numeration="loweralpha">
            <listitem>
              <para>Accompany the combined library with a copy of the same
              work based on the Library, uncombined with any other library
              facilities. This must be distributed under the terms of the
              Sections above.</para>
            </listitem>

            <listitem>
              <para>Give prominent notice with the combined library of the
              fact that part of it is a work based on the Library, and
              explaining where to find the accompanying uncombined form of the
              same work.</para>
            </listitem>
          </orderedlist></para>
      </section>

      <section id="lgpl-2-8">
        <title>Section 8</title>

        <para>You may not copy, modify, sublicense, link with, or distribute
        the Library except as expressly provided under this License. Any
        attempt otherwise to copy, modify, sublicense, link with, or
        distribute the Library is void, and will automatically terminate your
        rights under this License. However, parties who have received copies,
        or rights, from you under this License will not have their licenses
        terminated so long as such parties remain in full compliance.</para>
      </section>

      <section id="lgpl-2-9">
        <title>Section 9</title>

        <para>You are not required to accept this License, since you have not
        signed it. However, nothing else grants you permission to modify or
        distribute the Library or its derivative works. These actions are
        prohibited by law if you do not accept this License. Therefore, by
        modifying or distributing the Library (or any work based on the
        Library), you indicate your acceptance of this License to do so, and
        all its terms and conditions for copying, distributing or modifying
        the Library or works based on it.</para>
      </section>

      <section id="lgpl-2-10">
        <title>Section 10</title>

        <para>Each time you redistribute the Library (or any work based on the
        Library), the recipient automatically receives a license from the
        original licensor to copy, distribute, link with or modify the Library
        subject to these terms and conditions. You may not impose any further
        restrictions on the recipients' exercise of the rights granted herein.
        You are not responsible for enforcing compliance by third parties with
        this License.</para>
      </section>

      <section id="lgpl-2-11">
        <title>Section 11</title>

        <para>If, as a consequence of a court judgment or allegation of patent
        infringement or for any other reason (not limited to patent issues),
        conditions are imposed on you (whether by court order, agreement or
        otherwise) that contradict the conditions of this License, they do not
        excuse you from the conditions of this License. If you cannot
        distribute so as to satisfy simultaneously your obligations under this
        License and any other pertinent obligations, then as a consequence you
        may not distribute the Library at all. For example, if a patent
        license would not permit royalty-free redistribution of the Library by
        all those who receive copies directly or indirectly through you, then
        the only way you could satisfy both it and this License would be to
        refrain entirely from distribution of the Library.</para>

        <para>If any portion of this section is held invalid or unenforceable
        under any particular circumstance, the balance of the section is
        intended to apply, and the section as a whole is intended to apply in
        other circumstances.</para>

        <para>It is not the purpose of this section to induce you to infringe
        any patents or other property right claims or to contest validity of
        any such claims; this section has the sole purpose of protecting the
        integrity of the free software distribution system which is
        implemented by public license practices. Many people have made
        generous contributions to the wide range of software distributed
        through that system in reliance on consistent application of that
        system; it is up to the author/donor to decide if he or she is willing
        to distribute software through any other system and a licensee cannot
        impose that choice.</para>

        <para>This section is intended to make thoroughly clear what is
        believed to be a consequence of the rest of this License.</para>
      </section>

      <section id="lgpl-2-12">
        <title>Section 12</title>

        <para>If the distribution and/or use of the Library is restricted in
        certain countries either by patents or by copyrighted interfaces, the
        original copyright holder who places the Library under this License
        may add an explicit geographical distribution limitation excluding
        those countries, so that distribution is permitted only in or among
        countries not thus excluded. In such case, this License incorporates
        the limitation as if written in the body of this License.</para>
      </section>

      <section id="lgpl-2-13">
        <title>Section 13</title>

        <para>The Free Software Foundation may publish revised and/or new
        versions of the Lesser General Public License from time to time. Such
        new versions will be similar in spirit to the present version, but may
        differ in detail to address new problems or concerns.</para>

        <para>Each version is given a distinguishing version number. If the
        Library specifies a version number of this License which applies to it
        and <quote>any later version</quote> , you have the option of
        following the terms and conditions either of that version or of any
        later version published by the Free Software Foundation. If the
        Library does not specify a license version number, you may choose any
        version ever published by the Free Software Foundation.</para>
      </section>

      <section id="lgpl-2-14">
        <title>Section 14</title>

        <para>If you wish to incorporate parts of the Library into other free
        programs whose distribution conditions are incompatible with these,
        write to the author to ask for permission. For software which is
        copyrighted by the Free Software Foundation, write to the Free
        Software Foundation; we sometimes make exceptions for this. Our
        decision will be guided by the two goals of preserving the free status
        of all derivatives of our free software and of promoting the sharing
        and reuse of software generally.</para>
      </section>

      <section id="lgpl-2-15">
        <title>NO WARRANTY Section 15</title>

        <para>BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO
        WARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW.
        EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
        OTHER PARTIES PROVIDE THE LIBRARY <quote>AS IS</quote> WITHOUT
        WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT
        LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
        A PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
        PERFORMANCE OF THE LIBRARY IS WITH YOU. SHOULD THE LIBRARY PROVE
        DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR
        CORRECTION.</para>
      </section>

      <section id="lgpl-2-16">
        <title>Section 16</title>

        <para>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN
        WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY
        AND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU
        FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR
        CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE
        LIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
        RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
        FAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
        SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
        DAMAGES.</para>

        <para>END OF TERMS AND CONDITIONS</para>
      </section>
    </section>

    <section id="lgpl-3">
      <title>How to Apply These Terms to Your New Libraries</title>

      <para>If you develop a new library, and you want it to be of the
      greatest possible use to the public, we recommend making it free
      software that everyone can redistribute and change. You can do so by
      permitting redistribution under these terms (or, alternatively, under
      the terms of the ordinary General Public License).</para>

      <para>To apply these terms, attach the following notices to the library.
      It is safest to attach them to the start of each source file to most
      effectively convey the exclusion of warranty; and each file should have
      at least the <quote>copyright</quote> line and a pointer to where the
      full notice is found.</para>

      <para>&lt;one line to give the library's name and a brief idea of what
      it does.&gt; Copyright (C) &lt;year&gt; &lt;name of author&gt;</para>

      <para>This library is free software; you can redistribute it and/or
      modify it under the terms of the GNU Lesser General Public License as
      published by the Free Software Foundation; either version 2.1 of the
      License, or (at your option) any later version.</para>

      <para>This library is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser
      General Public License for more details.</para>

      <para>You should have received a copy of the GNU Lesser General Public
      License along with this library; if not, write to the Free Software
      Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301
      USA</para>

      <para>Also add information on how to contact you by electronic and paper
      mail.</para>

      <para>You should also get your employer (if you work as a programmer) or
      your school, if any, to sign a <quote>copyright disclaimer</quote> for
      the library, if necessary. Here is a sample; alter the names:</para>

      <para>Yoyodyne, Inc., hereby disclaims all copyright interest in the
      library `Frob' (a library for tweaking knobs) written by James Random
      Hacker.</para>

      <para>&lt;signature of Ty Coon&gt;, 1 April 1990 Ty Coon, President of
      Vice</para>

      <para>That's all there is to it!</para>
    </section>
  </appendix>
</book>