--- Upgrading from 2.7.8 to 2.8.0 ---

Always make a backup of your wiki home or your wiki database (which ever you are using)
before attempting any upgrades!

When upgrading, it is best to first try out the new version in its own context but
pointing at your existing wiki home or wiki database. That way you can keep using the
old version until you're happy that the new version is doing its job.

* Users who are not using the standard Wiki lexers will need to set the Parser value
  from the admin screens.  Previously VQWiki allowed as many as three lexers to be
  specified to handle parsing Wiki syntax, but that process has been simplified and a
  single parser now handles all lexer functionality.

--- Upgrading from 2.7.7 to 2.7.8 ---

Always make a backup of your wiki home or your wiki database (which ever you are using) before
attempting any upgrades!

When upgrading, it is best to first try out the new version in its own context but pointing
at your existing wiki home or wiki database. That way you can keep using the old version
until you're happy that the new version is doing its job.

The default StyleSheet contents changed. As such, it is necessary to update already existing
StyleSheet topics with the following class:

.menuinactive {
	font-family: Trebuchet MS, Verdana, Helvetica, sans-serif;
	font-weight: bold;
	text-decoration: none;
	color: #aaaaaa;
}

If this is not be done, inactive menus might be the cause of "jumps" in the menu structure.
There are also the following new CSS styles:

How to display new topics, for example in red:

a.newtopic {
  color: #FF0000;
}

How to display external links, for example with an icon:

a.externallink:after {
  content:url("../images/external.png");
}

How to display tables generated by the wiki:

table.wikitable {
  color: red;
}

How to display author details:

.authordetails {
    width:350px;
    border:1px solid #8E9EAD;
    padding:3px;
    float:right;
    margin-right: 4%;
}

The following stylesheet entries were added to accomodate the new diff code:

/* diff page */

table.diff {
    border: 0;
    margin: 0;
    padding: 0;
    width: 100%;
}
td.diff-delete {
    background: #ee7777;
    font-weight: bold;
    padding: 0.1em;
    width: 49%;
}
td.diff-add {
    background: #77ee77;
    font-weight: bold;
    padding: 0.1em;
    width: 49%;
}
td.diff-unchanged {
    background: #dddddd;
    padding: 0.1em;
    width: 49%;
}
td.diff-indicator {
    font-weight: bold;
    padding: 0.1em;
    text-align: right;
    width: 1%;
}
td.diff-no-indicator {
    padding: 0.1em;
    width: 1%;
}
td.diff-line {
    padding: 0.5em 0.1em 0.1em 0.1em;
    font-weight: bold;
}

--- Upgrading from 2.7.x to 2.7.7 ---

Always make a backup of your wiki home or your wiki database (which ever you are using) before
attempting any upgrades!

When upgrading, it is best to first try out the new version in its own context but pointing
at your existing wiki home or wiki database. That way you can keep using the old version
until you're happy that the new version is doing its job.

If you had problems with lock files not being deleted, you can delete those manually if necessary.

The layout of the RSS feed changed slightly, the font's color was removed for example, so you
might want to update any applications listening to the feed.


---UPGRADE for Very Quick Wiki V2.6---

There are numerous combinations of old and new versions that it is possible to upgrade
between. I'll try to cover a couple of the more typical scenarios.

When upgrading, it is best to first try out the new version in its own context but pointing
at your existing wiki home or wiki database. That way you can keep using the old version
until you're happy that the new version is doing its job.

Search index changes sometimes render the temporary search index files useless. Delete these
from your web container's temporary directories to reset the search index. E.g. on Tomcat
delete your {tomcathome}/work/{mode}/{host}/{wikicontext} directory.

***Upgrading from 2.5 and earlier to 2.6***
There is a now a "website-like" layout. This consist of a TopArea, BottomArea and LeftMenu.
Each of these is held as a wiki topic. So just edit the topics as given to change the
content of the basic layout. The three topics are now locked down as admin-only topics. A
list of topic names lives in a topic called AdminOnlyTopics. Removing topic names from
this list will open them up to anyone.

***Upgrading from 2.4 etc to 2.5.0 BETA 2***
The package structure has changed, lexers are now in their own package called vqwiki.lex. This
means that if you are using the same properties file for 2.5.0 BETA2 as for eariler versions,
you will need to go into the admin console and make the following changes:
LinkLexer: vqwiki.LinkLex becomes vqwiki.lex.LinkLex
FormatLexer: vqwiki.FormatLex becomes vqwiki.lex.FormatLex
LayouLexer: vqwiki.LayoutLex becomes vqwiki.lex.LayoutLex

***Upgrading from 2.2 to 2.3 or 2.4***
File uploads are now stored and retrieved directly by a servlet, so they don't have to be
in a directory relative to the JSPs. You will probably need to change your setting for the
upload directory to an absolute path (but with no '@' in front of it). The default virtual
wiki "jsp" uploads are now stored in a directory under the upload directory called "jsp".
This will be created on the first upload, but you will need to shift any existing files in
the root of your upload directory into the "jsp" folder.

The other major change is the way that the lexer (the thing that does the formatting from the
Wiki markup and the automagic linking) operates. The lexer is now loaded dynamically to
make it easier for people to create their own lexers. Previously you could select either
"Standard" or "Fritz" from the admin console. Now if you wish to run the standard (it will
default to this anyway) the settings are:
Format Lexer: vqwiki.lex.FormatLex
Link Lexer: vqwiki.lex.LinkLex
If you are using the Fritz lexer, then you need to change this to:
Format Lexer: vqwiki.lex.FritzLex
Link Lexer: null
The Fritz lexer only makes one pass, so the second pass is unnecessary.

***Upgrading from 2.0 in database mode to 2.3 in database mode***
Some additional fields were added to 2.2 to facilitate "virtual wikis", you'll need to
run the upgrade script at http://www.veryquick.org/veryquickwiki/2.1Upgrade.sql on your
MySQL database for version 2.3 to work (you shouldn't lose any existing data but backup just
in case).

